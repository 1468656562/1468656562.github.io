<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>simonÂ∞èüìöÂùä</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="Âó®, ÊàëÊòØsimon">
<meta property="og:type" content="website">
<meta property="og:title" content="simonÂ∞èüìöÂùä">
<meta property="og:url" content="https://github.com/icoderRo/index.html">
<meta property="og:site_name" content="simonÂ∞èüìöÂùä">
<meta property="og:description" content="Âó®, ÊàëÊòØsimon">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="simonÂ∞èüìöÂùä">
<meta name="twitter:description" content="Âó®, ÊàëÊòØsimon">
  
    <link rel="alternate" href="/atom.xml" title="simonÂ∞èüìöÂùä" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  

  
  
  

</head>



  <body>


  
    <header id="header">

    
      <div id="intrologo" class="intro-logo" style="background-position:center; background-repeat:no-repeat; background-image: url(); background-size: auto 100%;">

      <!-- Support rolling -->  
        
        <section class="awSlider">
          <div class="carousel slide carousel-fade " data-ride="carousel">

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
               
                  
                    <div class="item active">
                  
                    <img id="carousel-img0" src="/css/images/home-bg.jpg">
                  </div>

                  <!-- Ëá™ÈÄÇÂ∫îÂ§ßÂõæ -->
                  <script>
                      var img0 = new Image();
                      var imageTag0 = document.getElementById("carousel-img0");
                      img0.src = imageTag0.src;
                      img0.onload=function(){
                        if (img0.width / img0.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag0.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag0.style.height = document.body.clientHeight + "px";
                          imageTag0.style.marginLeft = -(document.body.clientHeight * img0.width / img0.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img1" src="/css/images/sample.jpg">
                  </div>

                  <!-- Ëá™ÈÄÇÂ∫îÂ§ßÂõæ -->
                  <script>
                      var img1 = new Image();
                      var imageTag1 = document.getElementById("carousel-img1");
                      img1.src = imageTag1.src;
                      img1.onload=function(){
                        if (img1.width / img1.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag1.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag1.style.height = document.body.clientHeight + "px";
                          imageTag1.style.marginLeft = -(document.body.clientHeight * img1.width / img1.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
                  
                    <div class="item">
                  
                    <img id="carousel-img2" src="https://source.unsplash.com/collection/954550/1024x768">
                  </div>

                  <!-- Ëá™ÈÄÇÂ∫îÂ§ßÂõæ -->
                  <script>
                      var img2 = new Image();
                      var imageTag2 = document.getElementById("carousel-img2");
                      img2.src = imageTag2.src;
                      img2.onload=function(){
                        if (img2.width / img2.height <= document.body.clientWidth / document.body.clientHeight) {
                          imageTag2.style.width = document.body.clientWidth + "px";
                        } else {
                          imageTag2.style.height = document.body.clientHeight + "px";
                          imageTag2.style.marginLeft = -(document.body.clientHeight * img2.width / img2.height - document.body.clientWidth) / 2 + "px";
                        }
                      };
                  </script>
                
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href=".carousel" role="button" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Geri</span>
            </a>
            <a class="right carousel-control" href=".carousel" role="button" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
              <span class="sr-only">ƒ∞leri</span>
            </a>
          </div>
        </section>
        <script>
          $('section.awSlider .carousel').carousel({
              pause: '',
              interval: 5000
          });
          var startImage = $('section.awSlider .item.active > img').attr('src');
          $('section.awSlider .carousel').on('slid.bs.carousel', function () {
              var bscn = $(this).find('.item.active > img').attr('src');
              $('section.awSlider > img').attr('src', bscn);
          });
        </script>
      

    
 


    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      
    </script>
    

    
      <div id="homelogo" class="homelogo" style="background: rgba(255,255,255,1);"> 
    

        
          <div class="homelogoback"  style="border: 1px solid #404040;" >
            <h1><a href="#content" id="logo">simonÂ∞èüìöÂùä</a></h1>
            <h3>Âó®, ÊàëÊòØsimon</h3>
            <h5>Mr.Simon</h5>
            <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
          </div>
        
    
    </div>
  </div>

  <!-- Ëá™ÈÄÇÂ∫î‰∏ªÈ°µËÉåÊôØÂ§ßÂõæ -->
  

 <!-- home_logo_imageÂ±Ö‰∏≠ -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">Startseite</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">Archive</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">Tags</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">About</a>
        
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="[post]-RealmSwift"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/01/20/RealmSwift/">Realm-Swift3.0</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/01/20/RealmSwift/" class="article-date">
	  <time datetime="2017-01-19T16:00:00.000Z" itemprop="datePublished">2017-01-20</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Realm-Swift3-0"><a href="#Realm-Swift3-0" class="headerlink" title="Realm-Swift3.0"></a>Realm-Swift3.0</h2><p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fimyuw95jdj30g7083ta2.jpg" alt=""></p>
<h4 id="ÁÆÄ‰ªã"><a href="#ÁÆÄ‰ªã" class="headerlink" title="ÁÆÄ‰ªã"></a>ÁÆÄ‰ªã</h4><p>Realm ‰∫é2014 Âπ¥7ÊúàÂèëÂ∏ÉÔºåÊòØ‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑÁßªÂä®Êï∞ÊçÆÂ∫ìÂºïÊìéÔºå‰∏ìÈó®‰∏∫ÁßªÂä®Â∫îÁî®ÁöÑÊï∞ÊçÆÊåÅ‰πÖÂåñËÄåÁîü„ÄÇÂÖ∂ÁõÆÁöÑÊòØË¶ÅÂèñ‰ª£ Core Data Âíå SQLite,ÊîØÊåÅJava„ÄÅObjective-C„ÄÅJavaScript„ÄÅSwift„ÄÅXamarinÂπ≥Âè∞</p>
<p>RealmÁöÑ‰ºòÁÇπÂú®ÂÆòÊñπ‰∏äÊúâÂæàÂ§öÁöÑËØ¥Êòé, Áï•‰∏æ‰∏§ÁÇπ:</p>
<p><strong>1.Êòì‰∏äÊâã</strong>:ÊÉ≥ÊØî‰∫éCore Data ÂíåSQLite, RealmÁöÑÂ≠¶‰π†ÊàêÊú¨Áõ∏ÂØπÊù•ËØ¥‰ºöÊØîËæÉ‰Ωé, ÊØ´‰∏çÂ§∏Âº†ÁöÑËØ¥, ÊääÂÆòÊñπÁöÑÊñáÊ°£ÂíåDemoÁúãÂÆå‰∏ÄÈÅç, Â∞±ÂèØ‰ª•Âø´ÈÄüÁöÑ‰∏äÊâãÂºÄÂèëÂäüËÉΩ„ÄÇ</p>
<p><strong>2.ÂèØËßÜÂåñ</strong>: RealmÊèê‰æõ‰∫Ü‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÊï∞ÊçÆÂ∫ìÊü•ÁúãÂ∑•ÂÖ∑, Âú®App Store‰∏≠‰∏ãËΩΩ<code>Realm Browser</code>, Áõ∏ÊØî‰∫éSQLite, ‰Ω†ÂèØËÉΩÈúÄË¶ÅÂéª‰∏ãËΩΩ‰ªòË¥πÊàñËÄÖÁ†¥Ëß£ÁâàÁöÑNavicat„ÄÅSQL ManagerÁ≠âËΩØ‰ª∂‰ºöÊñπ‰æøÂæàÂ§ö, ÂÄüÂä©‰∫é<code>Realm Browser</code>Ë∞ÉËØïRealmÊï∞ÊçÆÂ∫ìÂæà‰æøÊç∑„ÄÇ</p>
<ul>
<li>‰ΩøÁî®Ê®°ÊãüÂô®ËøõË°åË∞ÉËØï<ul>
<li>ÈÄöËøáÊâßË°å<code>realm.configuration.fileURL</code>ÊâìÂç∞Âá∫RealmÊï∞ÊçÆÂ∫ìÁöÑÂú∞ÂùÄ, Finder‰∏≠Ë∑≥ËΩ¨ËøõÂØπÂ∫îÁöÑË∑ØÂæÑ, Áî®<code>Realm Browser</code>ÊâìÂºÄÂØπÂ∫îÁöÑ.realmÊñá‰ª∂Â∞±ÂèØ‰ª•ÁúãÂà∞Êï∞ÊçÆÂï¶„ÄÇ</li>
</ul>
</li>
<li>‰ΩøÁî®ÁúüÊú∫Ë∞ÉËØï<ul>
<li>Xcode-&gt;Window-&gt;Devices,ÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫îÁöÑËÆæÂ§á‰∏éÈ°πÁõÆ,ÂØºÂá∫xcappdataÊñá‰ª∂Âêé,ÊòæÁ§∫ÂåÖÂÜÖÂÆπËøõÂÖ•Documents,‰ΩøÁî®<code>Realm Browser</code>ÊâìÂºÄ.realmÊñá‰ª∂Âç≥ÂèØ.
        <!-- 
Realm-Swift3.0
ÁÆÄ‰ªãRealm ‰∫é2014 Âπ¥7ÊúàÂèëÂ∏ÉÔºåÊòØ‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑÁßªÂä®Êï∞ÊçÆÂ∫ìÂºïÊìéÔºå‰∏ìÈó®‰∏∫ÁßªÂä®Â∫îÁî®ÁöÑÊï∞ÊçÆÊåÅ‰πÖÂåñËÄåÁîü„ÄÇÂÖ∂ÁõÆÁöÑÊòØË¶ÅÂèñ‰ª£ Core Data Âíå SQLite,ÊîØÊåÅJava„ÄÅObjective-C„ÄÅJavaScript„ÄÅSwift„ÄÅXamarinÂπ≥Âè∞
RealmÁöÑ‰ºòÁÇπÂú®ÂÆòÊñπ‰∏äÊúâÂæàÂ§öÁöÑËØ¥Êòé, Áï•‰∏æ‰∏§ÁÇπ:
1.Êòì‰∏äÊâã:ÊÉ≥ÊØî‰∫éCore Data ÂíåSQLite, Rea......  -->
        <p class="article-more-link">
          <a href="/2017/01/20/RealmSwift/#more">weiter lesen</a>
        </p>
      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Êï∞ÊçÆÂ∫ì/">Êï∞ÊçÆÂ∫ì</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-Xcode8Êñ∞ÁâπÊÄß"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/10/03/Xcode8Êñ∞ÁâπÊÄß/">Xcode8Êñ∞ÁâπÊÄß</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/10/03/Xcode8Êñ∞ÁâπÊÄß/" class="article-date">
	  <time datetime="2016-10-03T03:26:31.000Z" itemprop="datePublished">2016-10-03</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="ÁÆÄ‰ªã"><a href="#ÁÆÄ‰ªã" class="headerlink" title="ÁÆÄ‰ªã"></a>ÁÆÄ‰ªã</h3><p>9Êúà14Êó•ÂºÄÂèëËÄÖ‰ª¨Â∑≤ÁªèÂèØ‰ª•‰∏ãËΩΩÂπ∂‰ΩøÁî®Ê≠£ÂºèÁâàXcode8, ÂÄüÁùÄÂõΩÂ∫Ü‰ºëÊÅØÊúüÈó¥,Êú¨‰∫∫‰πü‰∏ãËΩΩÂπ∂‰ΩøÁî®‰∫ÜXcode8, ÂèëÁé∞ÈáåÈù¢ÁöÑÂùëÁÇπ‰∏çÂ∞ë.‰∏ãÈù¢Â∞±ÊÄªÁªìÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠ÈÅáËßÅÁöÑ‰∏Ä‰∫õÈóÆÈ¢ò.</p>
<h3 id="Êñ∞ÁâπÊÄß"><a href="#Êñ∞ÁâπÊÄß" class="headerlink" title="Êñ∞ÁâπÊÄß"></a>Êñ∞ÁâπÊÄß</h3><h4 id="General"><a href="#General" class="headerlink" title="General"></a>General</h4><p>Xcode8‰∏≠ÈÄöËøá<code>Automatically manage signing</code>, ËÆ©ËãπÊûú‰∏∫Êàë‰ª¨ÁÆ°ÁêÜÊï¥Êï∞ÂíåÈÖçÁΩÆÊñá‰ª∂.<br>ÊÉ≥Ë¶ÅËÆæÁΩÆÂÆâË£ÖÂêéÊòæÁ§∫Âú®ÊâãÊú∫‰∏äÁöÑAPPÁöÑÂêçÂ≠ó, ÂèØ‰ª•Áõ¥Êé•‰øÆÊîπ<strong>Display Name</strong>, Ëøô‰∏™‰øÆÊîπÂíå<strong>Info.plist</strong>‰øÆÊîπÊòØÂêåÊ≠•ÁöÑ.<br><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92dmnilo1j20g20arq45.jpg" alt=""></p>
<p>ÊâãÂä®ÁÆ°ÁêÜËØÅ‰π¶ÂíåÊèèËø∞Êñá‰ª∂, ÂéªÊéâ<code>Automatically manage signing</code>ÁöÑÂãæÂç≥ÂèØ.<br><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f92dn5338yj20gg0dmq4b.jpg" alt=""></p>
<h4 id="ATSÈóÆÈ¢ò"><a href="#ATSÈóÆÈ¢ò" class="headerlink" title="ATSÈóÆÈ¢ò"></a>ATSÈóÆÈ¢ò</h4><p>Âú®iOS9‰∏≠,Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ<code>NSAllowsArbitraryLoads</code>‰∏∫<code>YES</code>, Êù•‰ΩøÁî®HTTPÁΩëÁªú; iOS10‰ªé2017Âπ¥1Êúà1Êó•ÂºÄÂßã, ËãπÊûú‰∏çÂÖÅËÆ∏Êàë‰ª¨ÈÄöËøáËøô‰∏™ÊñπÊ≥ïË∑≥ËøáATS, Âº∫Âà∂‰ΩøÁî®HTTPS.Êàë‰ª¨ÂèØ‰ª•Áî®Ëøá<code>NSExceptionDomains</code>ÂØπÁâπÂÆöÁöÑÂüüÂêçÂºÄÊîæHTTP.<br><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f92dni65g2j20x007rta9.jpg" alt=""></p>
<h4 id="ÈöêÁßÅÊùÉÈôêÁöÑËÆæÁΩÆ"><a href="#ÈöêÁßÅÊùÉÈôêÁöÑËÆæÁΩÆ" class="headerlink" title="ÈöêÁßÅÊùÉÈôêÁöÑËÆæÁΩÆ"></a>ÈöêÁßÅÊùÉÈôêÁöÑËÆæÁΩÆ</h4><p>iOS10 ÂØπÈöêÁßÅÊùÉÈôêÊõ¥Âä†‰∏•Ê†º, Â¶ÇÊûú‰∏çËÆæÁΩÆ, ‰ºöÁõ¥Êé•Â¥©Ê∫É.<br><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f92dnv67gxj20zb03tjul.jpg" alt=""><br>Ê†πÊçÆÈîôËØØÊèêÁ§∫: Êàë‰ª¨ÂèØ‰ª•Âú®<code>info.plist</code>Êñá‰ª∂‰∏≠ Ê∑ªÂä†ÂØπÂ∫îÁöÑÈîÆÂÄºÂ∞±ÂèØ‰ª•‰∫Ü.<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92do7ykoaj20w70dw0vr.jpg" alt=""></p>
<ul>
<li>È∫¶ÂÖãÈ£éÊùÉÈôêÔºöPrivacy - Microphone Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§App‰ΩøÁî®‰Ω†ÁöÑÈ∫¶ÂÖãÈ£éÔºü</li>
<li>Áõ∏Êú∫ÊùÉÈôêÔºö Privacy - Camera Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§App‰ΩøÁî®‰Ω†ÁöÑÁõ∏Êú∫Ôºü<ul>
<li>Áõ∏ÂÜåÊùÉÈôêÔºö Privacy - Photo Library Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§AppËÆøÈóÆ‰Ω†ÁöÑÂ™í‰ΩìËµÑÊñôÂ∫ìÔºü</li>
<li>ÈÄöËÆØÂΩïÊùÉÈôêÔºö Privacy - Contacts Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§AppËÆøÈóÆ‰Ω†ÁöÑÈÄöËÆØÂΩïÔºü</li>
<li>ËìùÁâôÊùÉÈôêÔºöPrivacy - Bluetooth Peripheral Usage Description ÊòØÂê¶ËÆ∏ÂÖÅÊ≠§App‰ΩøÁî®ËìùÁâôÔºü</li>
<li>ËØ≠Èü≥ËΩ¨ÊñáÂ≠óÊùÉÈôêÔºöPrivacy - Speech Recognition Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§App‰ΩøÁî®ËØ≠Èü≥ËØÜÂà´Ôºü</li>
<li>Êó•ÂéÜÊùÉÈôêÔºöPrivacy - Calendars Usage Description ÊòØÂê¶ÂÖÅËÆ∏Ê≠§App‰ΩøÁî®Êó•ÂéÜÔºü</li>
<li>ÂÆö‰ΩçÊùÉÈôêÔºöPrivacy - Location When In Use Usage Description Êàë‰ª¨ÈúÄË¶ÅÈÄöËøáÊÇ®ÁöÑÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØËé∑ÂèñÊÇ®Âë®ËæπÁöÑÁõ∏ÂÖ≥Êï∞ÊçÆ</li>
<li>ÂÆö‰ΩçÊùÉÈôê: Privacy - Location Always Usage Description Êàë‰ª¨ÈúÄË¶ÅÈÄöËøáÊÇ®ÁöÑÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØËé∑ÂèñÊÇ®Âë®ËæπÁöÑÁõ∏ÂÖ≥Êï∞ÊçÆ</li>
</ul>
</li>
</ul>
<h4 id="Interface-Builder"><a href="#Interface-Builder" class="headerlink" title="Interface Builder"></a>Interface Builder</h4><p>Xcode8‰πãÂâçÁöÑ <code>Size Class</code><br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92dosolakj20am08gwel.jpg" alt=""><br>Xcode8‰πãÂêéÁöÑÂ∞±‰∏çÂè´<code>Size Class</code>, Â∞±ÊòØ‰∏Ä‰∏™È¢ÑËßàÂΩìÂâçÂΩìÂâç<code>XIB</code>Êàñ<code>SB</code>Âú®‰∏çÂêåÂ±èÂπïÂ∞∫ÂØ∏‰∏ãÁöÑÂõæÂΩ¢ÁïåÈù¢.<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92dp951zdj20fm05bjrx.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/65e4f1e6gw1f92dphol8mj20k002ddg8.jpg" alt=""></p>
<p>Xcode8ÊâìÂºÄ‰πãÂâçÁöÑÊóßÈ°πÁõÆÁöÑ<code>XIB</code>Êàñ<code>SB</code>Êñá‰ª∂Êó∂, ‰ºöÂºπÂá∫‰∏Ä‰∏™ÈÄâÊã©ÂàùÂßãÂåñËÆæÁΩÆËßÜÂõæÁöÑÁ™óÂè£, ‰∏ÄËà¨ÈÄâÊã©<code>Choose Device</code>.<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92dpz5c7qj20c505odgo.jpg" alt=""></p>
<p>Â¶ÇÊûúXcode8ÊâìÂºÄËøáÂΩìÂâçÁöÑ<code>XIB</code>Êñá‰ª∂, Âπ∂ÈÄâÊã©<code>Choose Device</code>Âêé, ‰Ωé‰∫éXcode8ÁâàÊú¨ÁöÑÁºñËØëÂô®Â∞ÜÊó†Ê≥ïÊâìÂºÄËøô‰∏™<code>XIB</code>Êñá‰ª∂, Âπ∂‰ºöÊä•‰∏Ä‰∏ãÈîôËØØ:</p>
<blockquote>
<p>The document ‚ÄúViewController.xib‚Äù requires Xcode 8.0 or later. This version does not support documents saved in the Xcode 8 format. Open this document with Xcode 8.0 or later.</p>
</blockquote>
<p>Êúâ‰∏§ÁßçÊñπÊ≥ïËß£ÂÜ≥:<br>1.Âà†Èô§<code>XIB</code>Êàñ<code>SB</code>Êñá‰ª∂‰∏≠ÁöÑ <strong>xml</strong>‰∏≠ÁöÑ‰ª£Á†Å.</p>
<blockquote>
<p>ÊâìÂºÄÊñπÂºèÂè≥ÈîÆ -&gt; Open as -&gt; Source Code <code>&lt;capability name=&quot;documents saved in the Xcode 8 format&quot; minToolsVersion=&quot;8.0&quot;/&gt;</code></p>
</blockquote>
<p>2.Â§ßÂÆ∂‰∏ÄËµ∑ÂçáÁ∫ßÂà∞Xcode8.</p>
<h4 id="Á¶ÅÁî®Á≥ªÁªülog"><a href="#Á¶ÅÁî®Á≥ªÁªülog" class="headerlink" title="Á¶ÅÁî®Á≥ªÁªülog"></a>Á¶ÅÁî®Á≥ªÁªülog</h4><p>Xcode 8Âú®Ë∞ÉËØïÂíåËøêË°åËøáÁ®ã‰∏≠, ‰ºöÊâìÂç∞ÂæàÂ§ö‰∏çËÆ§ËØÜÁöÑlog.Ëøô‰∫õÊòØÁ≥ªÁªüÊâìÂç∞ÁöÑ.<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92dqhhcvbj20xm05kadd.jpg" alt=""><br>Ëß£ÂÜ≥ÂäûÊ≥ïÊòØ:Âú®<code>Target -&gt; Edit Scheme -&gt; Run -&gt; Arguments</code>‰∏≠ÔºåÊ∑ªÂä†<code>OS_ACTIVITY_MODE</code>Â≠óÊÆµÔºåÂπ∂ËÆæÁΩÆ‰∏∫<code>Disable</code>Âç≥ÂèØ„ÄÇ<br><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92dqvs2f7j21ax0l7mzr.jpg" alt=""></p>
<h4 id="Êèí‰ª∂ÈóÆÈ¢ò"><a href="#Êèí‰ª∂ÈóÆÈ¢ò" class="headerlink" title="Êèí‰ª∂ÈóÆÈ¢ò"></a>Êèí‰ª∂ÈóÆÈ¢ò</h4><p>ËãπÊûú‰∏∫‰∫ÜÈÅøÂÖçÁ±ª‰ºº <a href="https://en.wikipedia.org/wiki/XcodeGhost" target="_blank" rel="external">Xcode Ghost:</a> ‰∫ã‰ª∂ÁöÑÂÜçÊ¨°ÂèëÁîü,Xcode8 Á¶ÅÁî®‰∫ÜÊèí‰ª∂Êú∫Âà∂,ËÄåÂºÄÊîæ‰∫ÜÂè¶‰∏ÄÁßçÂΩ¢ÂºèÔºö <a href="https://developer.apple.com/videos/play/wwdc2016/414/" target="_blank" rel="external">Source Editor extensions</a> ‰ΩÜÊòØËøôÁßçÂΩ¢ÂºèÂ±ÄÈôêÊÄßÂ§™Â§ß.<br>ËøôÈáåÊúâ‰∏ÄËæπÊñáÁ´†‰ªãÁªç, ËÆ©‰Ω†ÁöÑXcode8ÁªßÁª≠‰ΩøÁî®Êèí‰ª∂:<a href="http://vongloo.me/2016/09/10/Make-Your-Xcode8-Great-Again/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="external">Xcode8ÁªßÁª≠‰ΩøÁî®Êèí‰ª∂</a></p>
<p>Â¶ÇÊûúÂá∫Áé∞<code>commandÔºãÔºè</code>Ê≥®Èáä‰ª£Á†ÅÂ§±Êïà, ÂèØ‰ª•ÊâßË°å<br><code>sudo /usr/libexec/xpccachectl</code>ÂêéÈáçÂêØÁîµËÑë.</p>
<p><strong>VVDocumenter-Xcode</strong>Â∑≤ÁªèÂú®Xcode8‰∏≠ÈõÜÊàê‰∫ÜÊ≥®ÈáäÊèí‰ª∂, ‰ΩøÁî®ÊñπÊ≥ï‰∏çÊòØ‰ª•ÂâçÁöÑ<code>///</code>, ËÄåÊòØ<code>optionÔºãcommandÔºãÔºè</code>.</p>
<h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><h5 id="UIColorÊñ∞Â¢ûÊñπÊ≥ï"><a href="#UIColorÊñ∞Â¢ûÊñπÊ≥ï" class="headerlink" title="UIColorÊñ∞Â¢ûÊñπÊ≥ï"></a>UIColorÊñ∞Â¢ûÊñπÊ≥ï</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">+ (UIColor *)colorWithDisplayP3Red:(CGFloat)displayP3Red green:(CGFloat)green blue:(CGFloat)blue alpha:(CGFloat)alpha NS_AVAILABLE_IOS(10_0);</div><div class="line"></div><div class="line">- (UIColor *)initWithDisplayP3Red:(CGFloat)displayP3Red green:(CGFloat)green blue:(CGFloat)blue alpha:(CGFloat)alpha NS_AVAILABLE_IOS(10_0);</div></pre></td></tr></table></figure>
<p>ÊçÆËãπÊûúÂÆòÊñπÂª∫ËÆÆ‰ΩøÁî®<code>sRGB</code>, ÁêÜÁî±ÊòØÊÄßËÉΩÂ•Ω, Ëâ≤ÂΩ©Êõ¥‰∏∞ÂØå.</p>
<h5 id="Â≠ó‰Ωì"><a href="#Â≠ó‰Ωì" class="headerlink" title="Â≠ó‰Ωì"></a>Â≠ó‰Ωì</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">NS_CLASS_AVAILABLE_IOS(10_0) @protocol UIContentSizeCategoryAdjusting &lt;NSObject&gt;</div><div class="line"></div><div class="line">/*</div><div class="line"> Indicates whether the corresponding element should automatically update its font when the device‚Äôs UIContentSizeCategory is changed.</div><div class="line"> For this property to take effect, the element‚Äôs font must be a font vended using +preferredFontForTextStyle: or +preferredFontForTextStyle:compatibleWithTraitCollection: with a valid UIFontTextStyle.</div><div class="line"> */</div><div class="line">@property (nonatomic) BOOL adjustsFontForContentSizeCategory;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p><strong>adjustsFontForContentSizeCategory</strong> Â≠ó‰ΩìÊòØÂê¶ÈöèÁùÄÊâãÊú∫Á≥ªÁªüÂ≠ó‰ΩìÁöÑÂèòÂåñËÄåÂèòÂåñ.</p>
<h5 id="refreshControl"><a href="#refreshControl" class="headerlink" title="refreshControl"></a>refreshControl</h5><p>iOS10‰ª•Ââç:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NS_CLASS_AVAILABLE_IOS(6_0) __TVOS_PROHIBITED @interface UIRefreshControl : UIControl</div></pre></td></tr></table></figure></p>
<p> iOS10‰ª•Âêé:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (nonatomic, strong, nullable) UIRefreshControl *refreshControl NS_AVAILABLE_IOS(10_0) __TVOS_PROHIBITED;</div></pre></td></tr></table></figure>
<p>iOS10 ‰ª•ÂêéÂè™Ë¶ÅÊòØÈõÜÊàê‰∏é<code>UIScrollView</code>, Âç≥ÂèØËé∑ÂæóÊ≠§Â±ûÊÄß.</p>
<h5 id="systemVersion"><a href="#systemVersion" class="headerlink" title="systemVersion"></a>systemVersion</h5><p>Âà§Êñ≠Á≥ªÁªüÁâàÊú¨Âè∑Âª∫ËÆÆÁî®Ê≥ï:<br><code>[[UIDevice currentDevice] systemVersion]</code></p>
<h5 id="UICollectionView"><a href="#UICollectionView" class="headerlink" title="UICollectionView"></a>UICollectionView</h5><p>iOS10 ÂØπUICollectionViewËøõ‰∏ÄÊ≠•ÁöÑ‰ºòÂåñ, ËØ¶ÊÉÖÂèØÂèÇËÄÉ<a href="http://www.jianshu.com/p/e97780a24224" target="_blank" rel="external">UICollectionViewÊñ∞ÁâπÊÄß
</a></p>
<h5 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h5><p>iOS10ÊâÄÊúâÁöÑÈÄöÁü•ÈÉΩÂ±û‰∫é<code>UserNotifications.framework</code><br>Â¢ûÂä†‰∫ÜÊí§ÂõûÂçïÊù°ÈÄöÁü•,Êõ¥Êñ∞Â∑≤Â±ïÁ§∫ÈÄöÁü•,‰∏≠ÈÄî‰øÆÊîπÈÄöÁü•ÂÜÖÂÆπ,Âú®ÈÄöÁü•‰∏≠Â±ïÁ§∫ÂõæÁâáËßÜÈ¢ë,Ëá™ÂÆö‰πâÈÄöÁü• UI Á≠â‰∏ÄÁ≥ªÂàóÊñ∞ÂäüËÉΩ,ÈùûÂ∏∏Âº∫Â§ß.<br>ËØ¶ÊÉÖÂèØ‰ª•ÂèÇËÄÉ:<br><a href="https://onevcat.com/2016/08/notification/" target="_blank" rel="external">Ê¥ª‰πÖËßÅÁöÑÈáçÊûÑ - iOS 10 UserNotifications Ê°ÜÊû∂Ëß£Êûê</a><br><a href="https://developer.apple.com/reference/usernotifications" target="_blank" rel="external">UserNotifications </a></p>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Êñ∞ÁâπÊÄß/">Êñ∞ÁâπÊÄß</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-ÁºñËØëijkplayerDemo"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/08/27/ÁºñËØëijkplayerDemo/">ÁºñËØëijkplayerDemo</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/08/27/ÁºñËØëijkplayerDemo/" class="article-date">
	  <time datetime="2016-08-26T16:00:00.000Z" itemprop="datePublished">2016-08-27</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="‰∏ãËΩΩ"><a href="#‰∏ãËΩΩ" class="headerlink" title="‰∏ãËΩΩ"></a><a href="https://github.com/Bilibili/ijkplayer">‰∏ãËΩΩ</a></h3><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92f6xoeksj20ka0br76g.jpg" alt=""></p>
<h3 id="ÁºñËØë-ijkplayer"><a href="#ÁºñËØë-ijkplayer" class="headerlink" title="ÁºñËØë ijkplayer"></a>ÁºñËØë ijkplayer</h3><h4 id="‰∏ãËΩΩÂõûÊù•Âêé‰ºöÂèëÁé∞-ffmpeg-lib-ÈáåÈù¢ÁöÑ-aÊñá‰ª∂Áº∫Â§±-ÊòæÁ§∫‰∏∫Á∫¢Ëâ≤"><a href="#‰∏ãËΩΩÂõûÊù•Âêé‰ºöÂèëÁé∞-ffmpeg-lib-ÈáåÈù¢ÁöÑ-aÊñá‰ª∂Áº∫Â§±-ÊòæÁ§∫‰∏∫Á∫¢Ëâ≤" class="headerlink" title="‰∏ãËΩΩÂõûÊù•Âêé‰ºöÂèëÁé∞ ffmpeg - lib ÈáåÈù¢ÁöÑ.aÊñá‰ª∂Áº∫Â§± ÊòæÁ§∫‰∏∫Á∫¢Ëâ≤"></a>‰∏ãËΩΩÂõûÊù•Âêé‰ºöÂèëÁé∞ ffmpeg - lib ÈáåÈù¢ÁöÑ.aÊñá‰ª∂Áº∫Â§± ÊòæÁ§∫‰∏∫Á∫¢Ëâ≤</h4><p><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f92fdqgeofj20cd097wf7.jpg" alt=""></p>
<h4 id="Êé•ÁùÄÁºñËØë-ffmpeg"><a href="#Êé•ÁùÄÁºñËØë-ffmpeg" class="headerlink" title="Êé•ÁùÄÁºñËØë ffmpeg"></a>Êé•ÁùÄÁºñËØë ffmpeg</h4><h5 id="ÊâìÂºÄÁªàÁ´Ø-cd-Âà∞ijkplayerÊñá‰ª∂Â§π‰∏≠-cd-ijkplayer-Â¶Ç‰∏ãÂõæ"><a href="#ÊâìÂºÄÁªàÁ´Ø-cd-Âà∞ijkplayerÊñá‰ª∂Â§π‰∏≠-cd-ijkplayer-Â¶Ç‰∏ãÂõæ" class="headerlink" title="ÊâìÂºÄÁªàÁ´Ø, cd Âà∞ijkplayerÊñá‰ª∂Â§π‰∏≠ cd ijkplayer Â¶Ç‰∏ãÂõæ:"></a>ÊâìÂºÄÁªàÁ´Ø, cd Âà∞ijkplayerÊñá‰ª∂Â§π‰∏≠ cd ijkplayer Â¶Ç‰∏ãÂõæ:</h5><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92fee7jkfj20h70g2goz.jpg" alt=""></p>
<h5 id="‰∏ãËΩΩffmpeg"><a href="#‰∏ãËΩΩffmpeg" class="headerlink" title="‰∏ãËΩΩffmpeg"></a>‰∏ãËΩΩffmpeg</h5><p> ./init-ios.sh</p>
<p><img src="http://ww3.sinaimg.cn/large/65e4f1e6gw1f92ferz68vj20jy0abjuz.jpg" alt=""></p>
<h5 id="cdÂà∞iOSÁõÆÂΩï"><a href="#cdÂà∞iOSÁõÆÂΩï" class="headerlink" title="cdÂà∞iOSÁõÆÂΩï"></a>cdÂà∞iOSÁõÆÂΩï</h5><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92fffs942j20j10chtbf.jpg" alt=""></p>
<h5 id="ÁºñËØë-ffmpeg"><a href="#ÁºñËØë-ffmpeg" class="headerlink" title="ÁºñËØë ffmpeg"></a>ÁºñËØë ffmpeg</h5><p>./compile-ffmpeg.sh clean<br>./compile-ffmpeg.sh all<br>Á≠âÂæÖÁºñËØëÂÆåÊàêÂç≥ÂèØ</p>
<h5 id="ËøêË°åIJKMediaDemo"><a href="#ËøêË°åIJKMediaDemo" class="headerlink" title="ËøêË°åIJKMediaDemo"></a>ËøêË°åIJKMediaDemo</h5><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92ffqzrm3j20jk0bbq43.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f92fg1ngm3j20jz0aut9f.jpg" alt=""></p>
<h3 id="Âà∂‰Ωúframework"><a href="#Âà∂‰Ωúframework" class="headerlink" title="Âà∂‰Ωúframework"></a>Âà∂‰Ωúframework</h3><h4 id="ÊâìÂºÄIJKMediaPlayerÁõÆÂΩï-ËøêË°åIJKMediaPlayer-xcodeproj"><a href="#ÊâìÂºÄIJKMediaPlayerÁõÆÂΩï-ËøêË°åIJKMediaPlayer-xcodeproj" class="headerlink" title="ÊâìÂºÄIJKMediaPlayerÁõÆÂΩï ËøêË°åIJKMediaPlayer.xcodeproj"></a>ÊâìÂºÄIJKMediaPlayerÁõÆÂΩï ËøêË°åIJKMediaPlayer.xcodeproj</h4><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92fgbldpsj20iw096q4d.jpg" alt=""></p>
<h4 id="ÈÄâÊã©releaseÊ®°Âºè-ÁºñËØëÁúüÊú∫ÂíåÊ®°ÊãüÂô®ÁöÑIJKMediaPlayer-xcodeproj-ÊâìÂºÄÁõ∏Â∫îÁõÆÂΩï"><a href="#ÈÄâÊã©releaseÊ®°Âºè-ÁºñËØëÁúüÊú∫ÂíåÊ®°ÊãüÂô®ÁöÑIJKMediaPlayer-xcodeproj-ÊâìÂºÄÁõ∏Â∫îÁõÆÂΩï" class="headerlink" title="ÈÄâÊã©releaseÊ®°Âºè,ÁºñËØëÁúüÊú∫ÂíåÊ®°ÊãüÂô®ÁöÑIJKMediaPlayer.xcodeproj, ÊâìÂºÄÁõ∏Â∫îÁõÆÂΩï"></a>ÈÄâÊã©releaseÊ®°Âºè,ÁºñËØëÁúüÊú∫ÂíåÊ®°ÊãüÂô®ÁöÑIJKMediaPlayer.xcodeproj, ÊâìÂºÄÁõ∏Â∫îÁõÆÂΩï</h4><p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92fgl0q3kj20hv05r74z.jpg" alt=""></p>
<p>‰ºöÂæóÂà∞‰∏§‰∏™Êñá‰ª∂Â§π ‰∏Ä‰∏™ÊòØÁúüÊú∫ÁöÑ Release-iphoneos ‰∏Ä‰∏™ÊòØÊ®°ÊãüÂô®ÁöÑRelease-iphonesimulator<br><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92fgsw65tj20it04xq3a.jpg" alt=""></p>
<h4 id="Â∞ÜÁúüÊú∫frameworkÂíåÊ®°ÊãüÂô®ÁöÑframeworkÂêàÂπ∂Êàê‰∏Ä‰∏™"><a href="#Â∞ÜÁúüÊú∫frameworkÂíåÊ®°ÊãüÂô®ÁöÑframeworkÂêàÂπ∂Êàê‰∏Ä‰∏™" class="headerlink" title="Â∞ÜÁúüÊú∫frameworkÂíåÊ®°ÊãüÂô®ÁöÑframeworkÂêàÂπ∂Êàê‰∏Ä‰∏™"></a>Â∞ÜÁúüÊú∫frameworkÂíåÊ®°ÊãüÂô®ÁöÑframeworkÂêàÂπ∂Êàê‰∏Ä‰∏™</h4><p>ÊâìÂºÄÁªàÁ´ØËæìÂÖ•  lipo -create ‚ÄúÁúüÊú∫IJKMediaFrameworkË∑ØÂæÑ‚Äù ‚ÄúÊ®°ÊãüÂô®IJKMediaFrameworkË∑ØÂæÑ‚Äù<br> -output ‚ÄúÂêàÂπ∂ÂêéÁöÑÊñá‰ª∂Ë∑ØÂæÑÂíåÂêçÁß∞(LastPathComponent‰ºöÈªòËÆ§‰∏∫Êñá‰ª∂ÂêçÂ≠ó)‚Äù   ÊâìÂºÄÁõ∏Â∫îË∑ØÂä≤ ÂæóÂà∞ÂêàÂπ∂ÂêéÁöÑframework<br><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92fh8bcmcj20ju09m0td.jpg" alt=""></p>
<p>Â∞ÜÁîüÊàêÁöÑÂêàÂπ∂ÂêéÁöÑframework ÊõøÊç¢Êéâ Release-iphoneos ÂíåRelease-iphonesimulator ÈáåÈù¢ÁöÑframework</p>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-ËÆ∞IMËÅäÂ§©ÁïåÈù¢Âç°È°øÂàÜÊûê"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/08/06/ËÆ∞IMËÅäÂ§©ÁïåÈù¢Âç°È°øÂàÜÊûê/">ËÆ∞IMËÅäÂ§©ÁïåÈù¢Âç°È°øÂàÜÊûê</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/08/06/ËÆ∞IMËÅäÂ§©ÁïåÈù¢Âç°È°øÂàÜÊûê/" class="article-date">
	  <time datetime="2016-08-06T12:26:31.000Z" itemprop="datePublished">2016-08-06</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="ÂºÄÂßãÊµãËØï"><a href="#ÂºÄÂßãÊµãËØï" class="headerlink" title="ÂºÄÂßãÊµãËØï"></a>ÂºÄÂßãÊµãËØï</h3><p>Âø´ÈÄüÊªöÂä®ËßÜÂõæ</p>
<p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f909vpp8x6j305z0argn9.jpg" alt=""></p>
<h3 id="ÂºÄÂêØGPU-DriverÊ£ÄÊµã"><a href="#ÂºÄÂêØGPU-DriverÊ£ÄÊµã" class="headerlink" title="ÂºÄÂêØGPU DriverÊ£ÄÊµã"></a>ÂºÄÂêØGPU DriverÊ£ÄÊµã</h3><p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f908hv7ia4j30kk0bkq4v.jpg" alt=""></p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f908if5qvwj30jn0hlq69.jpg" alt=""> </p>
<p>Âõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÂΩìÂâçÁöÑÂ∏ßÁéáÈùûÂ∏∏ÁöÑ‰Ωé, ‰øùÊåÅÂú® 40~50 FPS, ÊòéÊòæÂèØ‰ª•ÊÑüËßâÂà∞Âç°È°ø.</p>
<h3 id="Âç°È°ø‰∫ßÁîüÁöÑÂéüÂõ†"><a href="#Âç°È°ø‰∫ßÁîüÁöÑÂéüÂõ†" class="headerlink" title="Âç°È°ø‰∫ßÁîüÁöÑÂéüÂõ†"></a>Âç°È°ø‰∫ßÁîüÁöÑÂéüÂõ†</h3><p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f908kgyq1ej30fp06o0tc.jpg" alt=""></p>
<p><strong>ÂõæÂÉèÊòæÁ§∫ÂéüÁêÜ</strong>:<br>ÁÆÄÂçïÊù•ËØ¥, CPUËÆ°ÁÆóÂ•ΩÊòæÁ§∫ÁöÑÂÜÖÂÆπÊèê‰∫§Âà∞GPU, GPUÊ∏≤ÊüìÂÆåÊàêÂêéÂ∞ÜÊ∏≤ÊüìÁöÑÁªìÊûúÊîæÂÖ•Â∏ßÁºìÂÜ≤Âå∫, ËßÜÈ¢ëÊéßÂà∂Âô®‰ºöÈÄêË°åËØªÂèñÂ∏ßÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆ, ËøõËøá‰∏Ä‰∫õËΩ¨Êç¢(Êï∞Ê®°ËΩ¨Êç¢)‰º†ÈÄíÁªôÊòæÁ§∫Âô®ÊòæÁ§∫.</p>
<blockquote>
<p>iOSËÆæÂ§áÁõÆÂâç‰ΩøÁî®ÁöÑÊòØÂèåÁºìÂ≠ò+ÂûÇÁõ¥ÂêåÊ≠•, ÂÆâÂçìÁ≥ªÁªüÊòØ‰∏âÁºìÂ≠ò+ÂûÇÁõ¥ÂêåÊ≠•, ÊÑüÂÖ¥Ë∂£ÁöÑÁúãÂÆò, ÂèØËá™Ë°åÊêúÁ¥¢.</p>
</blockquote>
<p><strong>ÁªìËÆ∫</strong>:<br><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f908jsi16aj30is052t91.jpg" alt=""><br>‰ªéÊµÅÁ®ãÂõæÂèØ‰ª•ÁúãÂá∫, CPUÂíåGPU‰∏çËÆ∫Âì™‰∏™ÈòªÁ¢ç‰∫ÜÂõæÂÉèÊòæÁ§∫ÊµÅÁ®ã, Âùá‰ºöÈÄ†ÊàêÊéâÂ∏ß, ‰∫ßÁîüÂ±èÂπïÂç°È°øÁöÑÁé∞Ë±°.</p>
<blockquote>
<p>CPU: ‰∏ÄËà¨Â§ÑÁêÜËßÜÂõæÁöÑÂàõÂª∫„ÄÅÂ∏ÉÂ±ÄËÆ°ÁÆó„ÄÅÂõæÁâáËß£Á†Å„ÄÅÊñáÊú¨ÁöÑÁªòÂà∂„ÄÅÂõæÂÉèÁªòÂà∂Á≠âÁ≠â.</p>
<p>GPU: ÂØπCPUÊèê‰∫§ÁöÑÂÜÖÂÆπ(Á∫πÁêÜ„ÄÅÈ°∂ÁÇπ)ËøõË°åÂ∫îÁî®ÂèòÊç¢„ÄÅÊ∑∑Âêà„ÄÅÊ∏≤Êüì. ‰æãÂ¶Ç:Á∫πÁêÜÁöÑÊ∏≤Êüì„ÄÅËßÜÂõæÁöÑÊ∑∑Âêà„ÄÅÂõæÂΩ¢ÁöÑÁîüÊàê.</p>
</blockquote>
<p>‰∏ãÈù¢ÂØπGPUÂíåCPUÂàÜÂà´ËøõË°åÊ£ÄÊµã.</p>
<h3 id="Ê£ÄÊµãGPU"><a href="#Ê£ÄÊµãGPU" class="headerlink" title="Ê£ÄÊµãGPU"></a>Ê£ÄÊµãGPU</h3><ul>
<li><p>Renderer Utilization</p>
<blockquote>
<p>Â¶ÇÊûúRenderer UtilizationÁöÑÁôæÂàÜÊØîË∂ÖËøá‰∫Ü50%, ÊúâÂèØËÉΩÊòØÂõ†‰∏∫Á¶ªÂ±èÊ∏≤ÊüìÊàñËÄÖÊòØÈáçÁªòÂØºËá¥</p>
</blockquote>
</li>
<li><p>Tiler Utilization    </p>
<blockquote>
<p>Â¶ÇÊûúTiler UtilizationÁöÑÁôæÂàÜÊØîË∂ÖËøá‰∫Ü50%, ÂæàÊúâÂèØËÉΩÊòØÂ±èÂπï‰∏äÊúâÂ§™Â§öÁöÑÂõæÂ±ÇË¶ÜÁõñ<br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f908if5qvwj30jn0hlq69.jpg" alt=""> </p>
</blockquote>
</li>
</ul>
<p>ÂèØ‰ª•Âà§Êñ≠, GPUÂπ∂‰∏çÊòØÂΩ±ÂìçÊÄßËÉΩÁöÑÁΩ™È≠ÅÊÅ∂È¶ñ</p>
<h3 id="Ê£ÄÊµãCPU"><a href="#Ê£ÄÊµãCPU" class="headerlink" title="Ê£ÄÊµãCPU"></a>Ê£ÄÊµãCPU</h3><p><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f908of007vj30wl0f0wla.jpg" alt=""> </p>
<p>Âãæ‰∏äSeparate by Thread Âíå Hide System Libraties : ÂàÜÁ¶ªÁ∫øÁ®ã, Êñπ‰æøÊü•ÁúãÂêÑÊù°Á∫øÁ®ãÂíåÈöêËóèÁ≥ªÁªüÂ∫ì.</p>
<p>ÊòéÊòæÁúãËßÅCPUÂç†Áî®ÁéáÁâπÂà´È´ò,È¶ñÂΩìÂÖ∂ÂÜ≤ÁöÑÊòØÂàÜÂà´ÊòØÂç†<strong>- cellForRowAtIndexPath</strong>Âíå<strong>- heightForRowAtIndexPath</strong>ÁöÑ‰∏§Âè•‰ª£Á†Å.  </p>
<p><strong>1.Ê£ÄÊµãcellForRowAtIndexPath‰ª£Á†Å</strong><br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f908t1aj10j30gb08mwhp.jpg" alt=""></p>
<p>ÁÇπÂºÄÂ∞èÁÆ≠Â§¥, ÂèëÁé∞ÈáåÈù¢<code>emotionStringWithWH:</code>Ê∂àËÄó‰∫ÜÂ§ßÈáèCPUÁöÑÊÄßËÉΩ.<br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f908y25l56j30gz0b9425.jpg" alt=""><br>ÂèåÂáªËøõÂéªÊü•Áúã‰ª£Á†Å, ÂèØ‰ª•ÁúãÂà∞Ê∂àËÄóÊÄßËÉΩÁöÑ‰ª£Á†ÅÊòØÂú®cellÊ®°ÂûãËµãÂÄºÁöÑÊñπÊ≥ï.<br><code>_msgLabel.attributedText =[session.fullText emotionStringWithWH:23];</code></p>
<p><strong>ÁåúÊÉ≥:</strong>tableViewÊØèÊ¨°ÊªöÂä®, cellÁöÑsetÊñπÊ≥ïÈÉΩ‰ºöË∞ÉÁî®<code>emotionStringWithWH:</code>,‰∏∫‰∫ÜÈÅøÂÖçÊØèÊ¨°ÁªôÂØåÊñáÊú¨ËµãÂÄºÈÉΩË∞ÉÁî®Ê≠§ÊñπÊ≥ï, Êñ∞Â¢û‰∏Ä‰∏™Â±ûÊÄß<code>NSAttributedString *text</code>.</p>
<p>ÂΩìÂâç‰ª£Á†Å‰øÆÊîπÊàê:<br><code>_msgLabel.attributedText = session.text;</code></p>
<p>Âõ†Ê≠§, Êàë‰ª¨ÈúÄË¶ÅÁªôtextÂú®ÂêàÈÄÇÁöÑÂú∞ÊñπËµãÂÄº, Êú¨demoÂú®ÁÇπÂáªÂèëÈÄÅÊñáÊú¨ÁöÑÊñπÊ≥ï‰∏≠Ê∑ªÂä†<br><code>session.text = [session.fullText emotionStringWithWH:23];</code></p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f908zuayblj30kh0hq7a3.jpg" alt=""></p>
<p>ÈáçÊñ∞ËøêË°åÈ°πÁõÆ, ÂÜçÊ¨°Ê£ÄÊµã</p>
<p><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f90914j1h3j30kb0c0403.jpg" alt=""><br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f909909vnsj30l70bn75j.jpg" alt=""><br>ÂèØ‰ª•ÁúãÂá∫Â∏ßÁéáÊèêÂçá‰∫Ü‰∏ÄÂ∞èÈÉ®ÂàÜ ‰øùÊåÅÂú®45~55 FPS, Âø´ÈÄüÊªëÂä®CPUÁöÑ‰ΩøÁî®ÁéáÂú®40%Â∑¶Âè≥.</p>
<p><strong>2.Ê£ÄÊµãheightForRowAtIndexPath‰ª£Á†Å</strong><br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f9092evlcpj30nq0bptel.jpg" alt=""><br>‰ªéÂõæ‰∏≠Á∫¢Ëâ≤ÁÆ≠Â§¥ÊâÄÁ§∫, ÂèØ‰ª•ÁúãÂá∫, ËÆ°ÁÆóÈ´òÂ∫¶ÁöÑÊñπÊ≥ï:<code>cellHeight</code>Âç†Áî®‰∫ÜÊØîËæÉÂ§öÁöÑÂºÄÈîÄ.<br>Êü•ÁúãÂΩìÂâçÁöÑ‰ª£Á†ÅÂèëÁé∞,ÊØèÊ¨°ÊªëÂä®ÈÉΩ‰ºöÈáçÂ§çËÆ°ÁÆóÈ´òÂ∫¶:<br><code>self.baseChatCellTool.session = self.dataSource[indexPath.row];</code><br><code>return
self.baseChatCellTool.cellHeight;</code></p>
<p>Âõ†Ê≠§, Á¨¨‰∏ÄÊÑüËßâÂ∞±ÊòØÂ∫îËØ•Â∞ÜËÆ°ÁÆóËøáÁöÑÈ´òÂ∫¶ÁªôÁºìÂ≠òËµ∑Êù•,‰∫éÊòØ‰πéÂ∞Ü‰ª£Á†Å‰øÆÊîπ‰∏∫:</p>
<pre><code>LCSession *session = self.dataSource[indexPath.row];
if (!session.cellHeight) {
    self.baseChatCellTool.session = session;
    session.cellHeight = self.baseChatCellTool.cellHeight;

    dispatch_async(dispatch_get_global_queue(0, 0), ^{
        [LCCachesTool addSession:session];
    });
}
return session.cellHeight;
</code></pre><p>ÈáçÊñ∞ËøêË°åÈ°πÁõÆ, ÂÜçÊ¨°Ê£ÄÊµã<br><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f909dk785oj30lm0avgqs.jpg" alt=""><br>Êàë‰ª¨ÂèëÁé∞<code>cellForRowAtIndexPath</code>‰æùÊóßÂç†Áî®‰∫ÜÊØîËæÉÂ§öÁöÑÂºÄÈîÄ,ÁÇπÂáªÊü•Áúã, Â¶ÇÁªøËâ≤Ê°ÜÊâÄÁ§∫, ÂèëÁé∞, ÈáåÈù¢ÂÖ®ÈÉ®ÈÉΩ‰∏∫%0ÁöÑÂºÄÈîÄ<br><img src="http://ww2.sinaimg.cn/large/006y8lVagw1f909ejipnrj30ya0djn4c.jpg" alt=""><br> Êàë‰ª¨Â∞Ü<code>Hide System Libraties</code>ÈÄâÈ°πÂèñÊ∂àÂãæÈÄâ, ÊâæÂà∞‰∏é‰∏äÂõæ‰∏≠ÂêåÊ†∑ÁöÑÊñπÊ≥ï<code>setSession</code>, ÂèëÁé∞ÊòØUILabelËÆæÁΩÆÂØåÊñáÊú¨ÁöÑÊó∂ÂÄô, Âç†Áî®‰∫ÜÂ§ßÈáèÁöÑÂºÄÈîÄ, Ëøô‰∏™ËØùÈ¢ò, Êàë‰ª¨ÊöÇ‰∏îÊâì‰Ωè.<br>ÁªßÁª≠ÁúãÂõû‰∏äÂõæ, Êàë‰πàÂèëÁé∞ËøòÊúâ‰∏Ä‰∏™ÊñπÊ≥ïÂç†Áî®‰∫ÜÊØîËæÉÂ§ßÁöÑÂºÄÈîÄ:<code>layoutSubviews</code>, ÂΩìÊàë‰ª¨ÊªöÂä®ËßÜÂõæÁöÑÊó∂ÂÄô, Â∞±‰ºöË∞ÉÁî®<code>layoutSubviews</code>, Êàë‰ª¨Êü•Áúã‰∏Ä‰∏ã, Âú®Ê≠§ÊñπÊ≥ï‰∏≠, ÂÅö‰∫Ü‰ªÄ‰πà‰∫ãÊÉÖ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">[self.headerImageView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">	    make.right.equalTo(self.contentView).offset(-7);</div><div class="line">	    make.top.equalTo(self.contentView).offset(7);</div><div class="line">	    make.width.height.equalTo(@(46));</div><div class="line">	&#125;];</div><div class="line">	</div><div class="line">	[self.nicknameLabel mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">	    make.top.equalTo(self.headerImageView).offset(-2);</div><div class="line">	    make.right.equalTo(self.headerImageView.mas_left).offset(-15);</div><div class="line">	&#125;];</div><div class="line">	</div><div class="line">	[self.msgLabel mas_remakeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">	    if (self.session.messageType == messageTypeImage || self.session.messageType == messageTypeMap) &#123;</div><div class="line">	        make.right.equalTo(self.headerImageView.mas_left).offset(-4);</div><div class="line">	    &#125; else &#123;</div><div class="line">	        make.right.equalTo(self.headerImageView.mas_left).offset(-20);</div><div class="line">	    &#125;</div><div class="line">	</div><div class="line">	    make.top.equalTo(self.nicknameLabel.mas_bottom).offset(13);</div><div class="line">	&#125;];</div><div class="line">	</div><div class="line">	[self.backgroundMsgView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">	</div><div class="line">	    make.edges.equalTo(self.msgLabel).insets(UIEdgeInsetsMake(-8, -10, -10, -15));</div><div class="line">	</div><div class="line">	&#125;];</div><div class="line">	.....</div></pre></td></tr></table></figure>
<p>ÈáåÈù¢ÈÉΩÊòØ‰∫õÂ∏ÉÂ±ÄÁöÑ‰ª£Á†Å. Êàë‰ª¨Áü•ÈÅì, Ëá™Âä®Â∏ÉÂ±ÄÁöÑÊ∂àËÄóÊòØÊòÇË¥µÁöÑ, ÁâπÂà´ÊòØÊØèÊ¨°ÊªöÂä®ÈÉΩÈúÄË¶ÅÂ∏ÉÂ±Ä. Áî±Ê≠§‰∫ßÁîüÁ¨¨‰∏Ä‰∏™‰ºòÂåñÊñπÊ°à: Áé∞ÊúâÁöÑËá™Âä®Â∏ÉÂ±ÄÊõøÊç¢‰∏∫ÂùêÊ†áÁ≥ª(frame), Êàë‰ª¨‰πüÈÉΩÁü•ÈÅì, Âà©Áî®frameËÆ°ÁÆóÊòØ‰∏Ä‰ª∂ÈùûÂ∏∏ÁóõËã¶ÁöÑ‰∫ãÊÉÖ.</p>
<blockquote>
<p>ÂΩìÁÑ∂, ÊúÄÁªàÁöÑÊñπÊ°à,Âà©Áî®coreTextÊéíÁâà, ËÇØÂÆöÊòØÂà©Áî®frame, ‰ΩÜÊòØÊòØÂ∑≤ÁªèÊèêÂâçËÆ°ÁÆóÂ•ΩÁöÑframe.</p>
</blockquote>
<p>ÂΩìÂâçÂü∫‰∫éÁ≥ªÁªüÁöÑUILabel, Âíå‰∏∫‰∫ÜÊñπ‰æø‰π¶ÂÜôÂ∏ÉÂ±Ä‰ª£Á†Å, Êàë‰ª¨‰ªéËøô‰∏™ÊñπÂêëÊù•‰ºòÂåñ, È¶ñÂÖàËá™Âä®Â∏ÉÂ±ÄÊòØÈúÄË¶ÅÁöÑ, ÂÖ∂Ê¨°ÈÅøÂÖçË∞ÉÁî®layoutSubViews(Âõ†‰∏∫ÊØèÊ¨°ÊªöÂä®ËßÜÂõæÈÉΩ‰ºöË∞ÉÁî®), Âú®initÊñπÊ≥ï‰∏≠, Â∏ÉÂ±Ä‰∏ÄÊ¨°:   <code>[self layout];</code></p>
<p>ÈáçÊñ∞ËøêË°åÈ°πÁõÆ, ÂÜçÊ¨°Ê£ÄÊµã:<br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909gz55z0j30ko0cgdh2.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909otf69fj30ql0iutdp.jpg" alt=""><br>CPUÊúÄÈ´ò‰ΩøÁî®Áéá‰∏∫34%,Âπ≥ÂùáÂú®23%Â∑¶Âè≥ Â∏ßÁéáÊèê‰øùÊåÅÂú®50~55 FPS<br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909hseqorj30s20d8q8b.jpg" alt=""><br>Êàë‰ª¨ÂèëÁé∞<code>cellForRowAtIndexPath</code>‰æùÊóßÂç†Áî®‰∫ÜÊØîËæÉÂ§öÁöÑÂºÄÈîÄ,ÁÇπÂáªÊü•Áúã, ÂèëÁé∞, ÈáåÈù¢ÂÖ®ÈÉ®ÈÉΩ‰∏∫%0ÁöÑÂºÄÈîÄ, Áî±Ê≠§ÂèØËßÅ,Ëøô‰∫õÂºÄÈîÄÂü∫Êú¨ÈÉΩÂ±û‰∫éÁ≥ªÁªüÁ∫ßÁöÑÂºÄÈîÄ‰∫Ü. </p>
<blockquote>
<p>Â∏∏ËßÅÁöÑÊñáÊú¨Êéß‰ª∂ ÔºàUILabel„ÄÅUITextView Á≠âÔºâÔºåÂÖ∂ÊéíÁâàÂíåÁªòÂà∂ÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ãËøõË°åÁöÑÔºåÂΩìÊòæÁ§∫Â§ßÈáèÊñáÊú¨Êó∂ÔºåCPU ÁöÑÂéãÂäõ‰ºöÈùûÂ∏∏Â§ß„ÄÇÂØπÊ≠§Ëß£ÂÜ≥ÊñπÊ°àÂè™Êúâ‰∏Ä‰∏™ÔºåÈÇ£Â∞±ÊòØËá™ÂÆö‰πâÊñáÊú¨Êéß‰ª∂</p>
</blockquote>
<p>ÈÇ£‰πàÂèëÁé∞Âü∫Êú¨‰πüÂ∞±Âè™Êúâ‰∏ÄÊù°Ë∑ØÂèØ‰ª•Ëµ∞‰∫Ü, ÈÇ£Â∞±ÊòØÂü∫‰∫écoreTextÂØπÊñáÊú¨ËøõË°åÂºÇÊ≠•ÁöÑÁªòÂà∂.Âü∫‰∫écoreTextÂØπÊñáÊú¨ËøõË°åÂºÇÊ≠•ÁöÑÁªòÂà∂Êàë‰ª¨ÂêéÁª≠ÂÜçËØ¥.</p>
<blockquote>
<p>coreText‰ºòÁÇπ: Âç†Áî®ÂÜÖÂ≠òÂ∞ë,ÂèØ‰ª•È¢ÑÂÖàÊéíÁâàÂØπË±°, ‰øùÁïôÂØπË±°‰æõÁªòÂà∂‰ΩøÁî®, ÂØπË±°ÂàõÂª∫Â•ΩÂêéÔºåËÉΩÁõ¥Êé•Ëé∑ÂèñÊñáÊú¨ÁöÑÂÆΩÈ´òÁ≠â‰ø°ÊÅØÔºåÈÅøÂÖç‰∫ÜÂ§öÊ¨°ËÆ°ÁÆó.</p>
</blockquote>
<h3 id="ÁªßÁª≠ÊêúÁΩó"><a href="#ÁªßÁª≠ÊêúÁΩó" class="headerlink" title="ÁªßÁª≠ÊêúÁΩó"></a>ÁªßÁª≠ÊêúÁΩó</h3><p><strong>imageNamed:</strong><br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909j34h07j30hv096q6f.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909je5sutj30gj048wf5.jpg" alt=""><br>Êàë‰ª¨Â∞Ü‰ª£Á†ÅËøòÂéü,ÂèëÁé∞Â§öÊ¨°Ë∞ÉÁî®[UIImage imageNamed:]ÂØπ‰∫éÂÜÖÂ≠òÁöÑÂºÄÈîÄÁõ∏ÂØπËæÉÂ§ß, Âú®ÂàõÂª∫ImageÊàñËÄÖCGImageSourceÂØπË±°Êó∂,ÂõæÁâáÊï∞ÊçÆÂπ∂‰∏ç‰ºöÁ´ãÂç≥Ëß£Á†Å,ËÄåÊòØÁ≠âÂà∞ËÆæÁΩÆÂà∞ImageViewÊàñËÄÖlayer.contentsÔºålayerË¢´Êèê‰∫§Âà∞GPU‰πãÂâç,ÊâçËß£Á†Å,Âπ∂‰∏îËøô‰∫õÊìç‰ΩúÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ãËøõË°å,ÊòØÁõ∏ÂΩìËÄóÊÄßËÉΩÁöÑ.Âõ†Ê≠§Â∫îËØ•ÂºÄÂêØÂ≠êÁ∫øÁ®ãÊääÂõæÁâáÁªòÂà∂Âà∞CGBitmapContext,ÁÑ∂Âêé‰ªéBitmapÁõ¥Êé•ÂàõÂª∫ÂõæÁâá, Â∏∏ËßÅÁöÑÁΩëÁªúÂõæÁâáÂ∫ìÈÉΩËá™Â∏¶Ëøô‰∫õÂäüËÉΩ.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// ÁÆÄÁï•ÊÄùË∑Ø</div><div class="line">dispatch\_async(backgroundQueue, ^&#123;</div><div class="line">	CGContextRef ctx = CGBitmapContextCreate(...);</div><div class="line">	CGImageRef img = CGBitmapContextCreateImage(ctx);</div><div class="line">	CFRelease(ctx);</div><div class="line">	dispatch_async(mainQueue, ^&#123;</div><div class="line">	    layer.contents = img;</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">‰æãÂ¶ÇAFN‰∏≠ÂØπ‰∫éÂõæÁâáÁöÑÂ§ÑÁêÜ:</div><div class="line">	// ÈÉ®ÂàÜ‰ª£Á†Å</div><div class="line">	CGContextRef context = CGBitmapContextCreate(NULL, width, height, bitsPerComponent, bytesPerRow, colorSpace, bitmapInfo);</div><div class="line">	</div><div class="line">	CGColorSpaceRelease(colorSpace);</div><div class="line">	</div><div class="line">	if (!context) &#123;</div><div class="line">	    CGImageRelease(imageRef);</div><div class="line">	</div><div class="line">	    return image;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	CGContextDrawImage(context, CGRectMake(0.0f, 0.0f, width, height), imageRef);</div><div class="line">	CGImageRef inflatedImageRef = CGBitmapContextCreateImage(context);</div><div class="line">	</div><div class="line">	CGContextRelease(context);</div><div class="line">	</div><div class="line">	UIImage *inflatedImage = [[UIImage alloc] initWithCGImage:inflatedImageRef scale:scale orientation:image.imageOrientation];</div><div class="line">	</div><div class="line">	CGImageRelease(inflatedImageRef);</div><div class="line">	CGImageRelease(imageRef);</div><div class="line">	</div><div class="line">	return inflatedImage;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">‰æãÂ¶ÇSD‰∏≠ÂØπ‰∫éÂõæÁâáÁöÑÂ§ÑÁêÜ:</div><div class="line">	        // Workaround for iOS anamorphic image</div><div class="line">	        if (partialImageRef) &#123;</div><div class="line">	            const size_t partialHeight = CGImageGetHeight(partialImageRef);</div><div class="line">	            CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</div><div class="line">	            CGContextRef bmContext = CGBitmapContextCreate(NULL, width, height, 8, width * 4, colorSpace, kCGBitmapByteOrderDefault | kCGImageAlphaPremultipliedFirst);</div><div class="line">	            CGColorSpaceRelease(colorSpace);</div><div class="line">	            if (bmContext) &#123;</div><div class="line">	                CGContextDrawImage(bmContext, (CGRect)&#123;.origin.x = 0.0f, .origin.y = 0.0f, .size.width = width, .size.height = partialHeight&#125;, partialImageRef);</div><div class="line">	                CGImageRelease(partialImageRef);</div><div class="line">	                partialImageRef = CGBitmapContextCreateImage(bmContext);</div><div class="line">	                CGContextRelease(bmContext);</div><div class="line">	            &#125;</div><div class="line">	            else &#123;</div><div class="line">	                CGImageRelease(partialImageRef);</div><div class="line">	                partialImageRef = nil;</div><div class="line">	            &#125;</div><div class="line">	        &#125;</div><div class="line">	</div><div class="line">	        if (partialImageRef) &#123;</div><div class="line">	            UIImage *image = [UIImage imageWithCGImage:partialImageRef scale:1 orientation:orientation];</div><div class="line">	            // Â≠òÂÇ®key</div><div class="line">	            NSString *key = [[SDWebImageManager sharedManager] cacheKeyForURL:self.request.URL];</div><div class="line">	            UIImage *scaledImage = [self scaledImageForKey:key image:image];</div><div class="line">	            if (self.shouldDecompressImages) &#123;</div><div class="line">	                image = [UIImage decodedImageWithImage:scaledImage];</div><div class="line">	            &#125;</div><div class="line">	            else &#123;</div><div class="line">	                image = scaledImage;</div><div class="line">	            &#125;</div><div class="line">	            CGImageRelease(partialImageRef);</div><div class="line">	            dispatch_main_sync_safe(^&#123; // ÂõûÂà∞‰∏ªÁ∫øÁ®ã</div><div class="line">	                if (self.completedBlock) &#123;</div><div class="line">	                    self.completedBlock(image, nil, nil, NO);</div><div class="line">	                &#125;</div><div class="line">	            &#125;);</div><div class="line">	        &#125;</div></pre></td></tr></table></figure>
<p><strong>Ê∏≤ÊüìÊó∂Êú∫</strong><br>Core Animation Âú® RunLoop ‰∏≠Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ Observer,ÁõëÂê¨‰∫Ü BeforeWaiting Âíå Exit ‰∫ã‰ª∂.ÂΩì‰∏Ä‰∏™Ëß¶Êë∏‰∫ã‰ª∂Âà∞Êù•Êó∂,RunLoop Ë¢´Âî§ÈÜí,App ‰∏≠ÁöÑ‰ª£Á†Å‰ºöÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÔºåÊØîÂ¶ÇÂàõÂª∫ÂíåË∞ÉÊï¥ËßÜÂõæÂ±ÇÁ∫ß„ÄÅËÆæÁΩÆ UIView ÁöÑ frame„ÄÅ‰øÆÊîπ CALayer ÁöÑÈÄèÊòéÂ∫¶„ÄÅ‰∏∫ËßÜÂõæÊ∑ªÂä†‰∏Ä‰∏™Âä®Áîª;Ëøô‰∫õÊìç‰ΩúÊúÄÁªàÈÉΩ‰ºöË¢´ CALayer Ê†áËÆ∞,Âπ∂ÈÄöËøá CATransaction Êèê‰∫§Âà∞‰∏Ä‰∏™‰∏≠Èó¥Áä∂ÊÄÅÂéª.ÂΩì‰∏äÈù¢ÊâÄÊúâÊìç‰ΩúÁªìÊùüÂêé,RunLoop Âç≥Â∞ÜËøõÂÖ•‰ºëÁú†ÔºàÊàñËÄÖÈÄÄÂá∫ÔºâÊó∂,ÂÖ≥Ê≥®ËØ•‰∫ã‰ª∂ÁöÑ Observer ÈÉΩ‰ºöÂæóÂà∞ÈÄöÁü•.  </p>
<p>Ëøô‰∏™ÂõûË∞ÉÂáΩÊï∞ÁöÑË∞ÉÁî®Ê†àÂ§ßÊ¶ÇÊòØËøôÊ†∑:</p>
<p><img src="http://ww3.sinaimg.cn/large/006y8lVagw1f909jumtrmj30mi04oq5j.jpg" alt=""></p>
<p><strong>ÊñáÊú¨ËÆ°ÁÆó</strong><br><img src="http://ww1.sinaimg.cn/large/006y8lVagw1f909kghwezj30lz01xmxr.jpg" alt=""><br>UILabel ÂÜÖÈÉ®ÁöÑÂÆûÁé∞ÊñπÂºèÔºöÁî® [NSAttributedString boundingRectWithSize:options:context:] Êù•ËÆ°ÁÆóÊñáÊú¨ÂÆΩÈ´ò,Áî® -[NSAttributedString drawWithRect:options:context:] Êù•ÁªòÂà∂ÊñáÊú¨.‰ºòÂåñÁÇπ:ÊîæÂà∞Â≠êÁ∫øÁ®ãËøõË°å‰ª•ÈÅøÂÖçÈòªÂ°û‰∏ªÁ∫øÁ®ã.</p>
<h3 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h3><p>‰ªé‰∏äÈù¢ÂèØÁü•,Âá†‰∏™CPUËµÑÊ∫êÊ∂àËÄóÁöÑÂéüÂõ†:</p>
<ul>
<li>Â∏ÉÂ±ÄËÆ°ÁÆó<ul>
<li>ËßÜÂõæÁöÑÂ∏ÉÂ±ÄËÆ°ÁÆóÊòØÂ∏∏ËßÅÊ∂àËÄóCPUÁöÑËµÑÊ∫ê. ‰∏ÄËà¨Âú®Â≠êÁ∫øÁ®ã‰∏≠ÊèêÂâçËÆ°ÁÆóÂ•ΩËßÜÂõæÁöÑÂ∏ÉÂ±Ä„ÄÅÂØπÂ∏ÉÂ±ÄËøõË°åÁºìÂ≠ò, Âü∫Êú¨‰∏äÂ∞±Ê≤°ÊúâÂï•ÈóÆÈ¢ò‰∫Ü.</li>
</ul>
</li>
<li>Autolayout<ul>
<li>Áî±‰∫éÊâãÂä®ËÆ°ÁÆóframeÁ≠âÂ±ûÊÄß,ÊØîËæÉÂ§çÊùÇ„ÄÅÂºÄÂèëÊïàÁéáÁõ∏ÂØπËæÉ‰Ωé<br>,Ëá™Âä®Â∏ÉÂ±ÄÂæàÊûÅÂ§ßÁöÑÊèêÂçáÂºÄÂèëÊïàÁéá, Â§çÊùÇÁöÑËßÜÂõæ‰ΩøÁî®Ëá™Âä®Â∏ÉÂ±Ä‰ºö‰∫ßÁîü‰∏•ÈáçÁöÑÊÄßËÉΩÈóÆÈ¢ò,ÈöèÁùÄËßÜÂõæÁöÑÊï∞ÈáèÂ¢ûÈïø, CPUÁöÑÊ∂àËÄó‰ºöÂëàÊåáÊï∞Á∫ßÁöÑÊèêÂçá.ÂÖ∂ÊúÄÁªàÈÉΩ‰ºöËêΩÂà∞ÂØπËßÜÂõæÁöÑframe/bounds/center Á≠âÂ±ûÊÄßÁöÑË∞ÉÊï¥.</li>
</ul>
</li>
<li>ÊñáÊú¨Ê∏≤Êüì<ul>
<li>Â∏∏ËßÅÁöÑÁ≥ªÁªüÊñáÊú¨Êéß‰ª∂(UILabel, UITextView‚Ä¶), ÂÖ∂ÊéíÁâàÂíåÁªòÂà∂ÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ãÊâßË°å, ÂΩìÊúâÂ§ßÈáèÁöÑÊñáÊú¨/ÂØåÊñáÊú¨/ÂõæÊñáÊ∑∑ÊéíÁ≠â, ÂØπ‰∫éCPUÁöÑÊ∂àËÄóÊòØÈùûÂ∏∏ÊòÇË¥µÁöÑ, ÂêåÊó∂‰º¥Êúâ‰∏•ÈáçÁöÑÁïåÈù¢Âç°È°øÁé∞Ë±°.ÂΩì‰∏ãÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÂü∫‰∫éCoreTextÂØπÊñáÊú¨ËøõË°åÂºÇÊ≠•ÁöÑÁªòÂà∂.</li>
</ul>
</li>
<li>ÂõæÂÉèËß£Á†Å<ul>
<li>ÂõæÁâáËÆæÁΩÆÂà∞UIImageView/layer.contentsÔºålayerË¢´Êèê‰∫§Âà∞GPU‰πãÂâç,ÊâçËß£Á†Å,Âπ∂‰∏îËøô‰∫õÊìç‰ΩúÈÉΩÊòØÂú®‰∏ªÁ∫øÁ®ãËøõË°å,ÊòØÁõ∏ÂΩìËÄóÊÄßËÉΩÁöÑ.Âõ†Ê≠§Â∫îËØ•ÂºÄÂêØÂ≠êÁ∫øÁ®ãÊääÂõæÁâáÁªòÂà∂Âà∞CGBitmapContext,ÁÑ∂Âêé‰ªéBitmapÁõ¥Êé•ÂàõÂª∫ÂõæÁâá.</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÊÄßËÉΩ‰ºòÂåñ/">ÊÄßËÉΩ‰ºòÂåñ</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-netty-socketÁºñËß£Á†Å"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/06/12/netty-socketÁºñËß£Á†Å/">Âü∫‰∫énetty LengthFieldBasedFrameDecoderÁºñËß£Á†Å</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/06/12/netty-socketÁºñËß£Á†Å/" class="article-date">
	  <time datetime="2016-06-11T16:00:00.000Z" itemprop="datePublished">2016-06-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="ÂâçË®Ä"><a href="#ÂâçË®Ä" class="headerlink" title="ÂâçË®Ä"></a>ÂâçË®Ä</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ÊúçÂä°Âô®‰º†ËæìÂçèËÆÆÂçèËÆÆ:  </div><div class="line">Âü∫‰∫énetty LengthFieldBasedFrameDecoder(<span class="number">100000000</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>) </div><div class="line">ÊÄªÈïøÂ∫¶ = <span class="number">4</span>byte + ÂåÖ‰ΩìÂÜÖÂÆπ</div><div class="line">Êé•Êî∂‰∫åËøõÂà∂ÁöÑjsonÂ≠óÁ¨¶‰∏≤</div></pre></td></tr></table></figure>
<h3 id="Ê≠£Êñá"><a href="#Ê≠£Êñá" class="headerlink" title="Ê≠£Êñá"></a>Ê≠£Êñá</h3><h5 id="ÊÄùË∑Ø"><a href="#ÊÄùË∑Ø" class="headerlink" title="ÊÄùË∑Ø:"></a>ÊÄùË∑Ø:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1.Âú®ÂèëÈÄÅÊï∞ÊçÆÂåÖÂâç, ÊãºÊé•4‰∏™Â≠óËäÇÂ∏¶ÊúâÂåÖ‰ΩìÂÜÖÂÆπÈïøÂ∫¶ÁöÑÊï∞ÊçÆ.</div><div class="line">2.Âú®Êé•ÂèóÊï∞Êó∂, ÈúÄË¶ÅËÄÉËôë Á≤òÂåÖÂíåÂçäÂåÖÁöÑÊÉÖÂÜµ.Ê†πÊçÆÂåÖÂ§¥ÈïøÂ∫¶,Âà§Êñ≠ÂåÖ</div><div class="line">  ÁöÑÂÆåÊï¥ÊÄß.Â∞ÜÂÆåÊï¥ÁöÑÂåÖËß£ÊûêÂá∫Âéª,‰∏çÂÆåÊï¥ÁöÑÁ≠âÂæÖ‰∏ã‰∏ÄÊ¨°ÁöÑÊï∞ÊçÆÊãºÊé•.</div></pre></td></tr></table></figure>
<h4 id="ËÆæËÆ°"><a href="#ËÆæËÆ°" class="headerlink" title="ËÆæËÆ°"></a>ËÆæËÆ°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1.ÈááÁî®Èù¢ÂêëÂçèËÆÆÁöÑÊñπÂºèÁºñÁ†Å‰∏éËß£Á†Å</div><div class="line">2.Ëá™ÂÆö‰πâÁºñÁ†ÅÂô®ÂíåËß£Á†ÅÂô®, ÈÅµÂÆàÂçèËÆÆ, ÂÆûÁé∞ÂçèËÆÆ‰∏≠ÁöÑÊñπÊ≥ï</div><div class="line">3.Âü∫‰∫éGCDAsyncSocket, Â∞ÅË£ÖÈúÄË¶ÅÁî®Âà∞ÁöÑÊñπÊ≥ï</div></pre></td></tr></table></figure>
<h5 id="Êñá‰ª∂ÁªìÊûÑ"><a href="#Êñá‰ª∂ÁªìÊûÑ" class="headerlink" title="Êñá‰ª∂ÁªìÊûÑ"></a>Êñá‰ª∂ÁªìÊûÑ</h5><p><img src="http://ww2.sinaimg.cn/large/65e4f1e6gw1f92ii7orifj20a207kt9g.jpg" alt=""></p>
<h3 id="ÂàÜÂùóËÆ≤Ëß£"><a href="#ÂàÜÂùóËÆ≤Ëß£" class="headerlink" title="ÂàÜÂùóËÆ≤Ëß£"></a>ÂàÜÂùóËÆ≤Ëß£</h3><h5 id="ÂçèËÆÆ-LCSocketCoderProtocol"><a href="#ÂçèËÆÆ-LCSocketCoderProtocol" class="headerlink" title="ÂçèËÆÆ - LCSocketCoderProtocol"></a>ÂçèËÆÆ - LCSocketCoderProtocol</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>ÁºñÁ†ÅÂçèËÆÆ:LCSocketEncoderProtocol</div><div class="line"><span class="number">2.</span>Ëß£Á†ÅÂçèËÆÆ:LCSocketDecoderProtocol</div><div class="line"><span class="number">3.</span>ÁºñÁ†ÅÂÆåÊàêÂêéÁöÑËæìÂá∫ÂçèËÆÆ:LCSocketEncoderOutputProtocol</div><div class="line"><span class="number">4.</span>Ëß£Á†ÅÂÆåÊàêÂêéÁöÑËæìÂá∫ÂçèËÆÆ:LCSocketDecoderOutputProtocol</div></pre></td></tr></table></figure>
<h5 id="ÁºñÁ†ÅÂô®-LCSocketEncoder"><a href="#ÁºñÁ†ÅÂô®-LCSocketEncoder" class="headerlink" title="ÁºñÁ†ÅÂô® - LCSocketEncoder"></a>ÁºñÁ†ÅÂô® - LCSocketEncoder</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span> ÈÅµÂÆàÁºñÁ†ÅÂçèËÆÆ</div><div class="line"><span class="number">2.</span>ÂÆûÁé∞ÂçèËÆÆ‰∏≠ÁöÑÊñπÊ≥ï:</div><div class="line">- (<span class="keyword">void</span>)encode:(<span class="keyword">id</span>)object output (<span class="keyword">id</span>&lt;LCSocketEncoderOutputProtocol&gt;)output</div><div class="line">ÂÖ∂‰∏≠, ËæìÂá∫outputÈÅµÂÆà ÁºñÁ†ÅËæìÂá∫ÂçèËÆÆ</div></pre></td></tr></table></figure>
<h5 id="ÁºñÁ†ÅÂô®-LCSocketDecoder"><a href="#ÁºñÁ†ÅÂô®-LCSocketDecoder" class="headerlink" title="ÁºñÁ†ÅÂô® - LCSocketDecoder"></a>ÁºñÁ†ÅÂô® - LCSocketDecoder</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span> ÈÅµÂÆàËß£Á†ÅÂçèËÆÆ</div><div class="line"><span class="number">2.</span>ÂÆûÁé∞ÂçèËÆÆ‰∏≠ÁöÑÊñπÊ≥ï:</div><div class="line">- (<span class="keyword">void</span>)decode:(<span class="keyword">id</span>)object output:(<span class="keyword">id</span>&lt;LCSocketDecoderOutputProtocol&gt;)output</div><div class="line">ÂÖ∂‰∏≠, ËæìÂá∫outputÈÅµÂÆà Ëß£Á†ÅËæìÂá∫ÂçèËÆÆ</div></pre></td></tr></table></figure>
<h5 id="Â•óÊé•Â≠ó-LCBaseSocket"><a href="#Â•óÊé•Â≠ó-LCBaseSocket" class="headerlink" title="Â•óÊé•Â≠ó - LCBaseSocket"></a>Â•óÊé•Â≠ó - LCBaseSocket</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span> Âü∫‰∫éGCDAsyncSocket</div><div class="line"><span class="number">2.</span>Âçï‰æãÂåñ, Êèê‰æõÈúÄË¶ÅÁªôÂ§ñÁïåËÆøÈóÆÁöÑÊé•Âè£,Â¶Ç:<span class="string">"ÈáçËøû"</span>, <span class="string">"Êñ≠ÂºÄËøûÊé•"</span>. <span class="string">"ÊòØÂê¶Ê≠£Âú®ËøûÊé•"</span>Á≠â</div><div class="line"><span class="number">3.</span>ËÆæÁΩÆ‰ª£ÁêÜÂ±ûÊÄß</div></pre></td></tr></table></figure>
<h3 id="ÁºñÁ†ÅÂô®‰ª£Á†ÅËØ¶Ëß£-LCSocketEncoder"><a href="#ÁºñÁ†ÅÂô®‰ª£Á†ÅËØ¶Ëß£-LCSocketEncoder" class="headerlink" title="ÁºñÁ†ÅÂô®‰ª£Á†ÅËØ¶Ëß£ - LCSocketEncoder"></a>ÁºñÁ†ÅÂô®‰ª£Á†ÅËØ¶Ëß£ - LCSocketEncoder</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>Âà§Êñ≠Êï∞ÊçÆÊ†ºÂºèÊòØÂê¶ÂèØËß£Êûê‰∏∫json</div><div class="line"> <span class="keyword">if</span> (![<span class="built_in">NSJSONSerialization</span> isValidJSONObject:object]) &#123;</div><div class="line">        [output didEndEncode:<span class="literal">nil</span> error:[<span class="built_in">NSError</span> errorWithDomain:<span class="string">@"Êï∞ÊçÆ‰∏çËÉΩËß£Êûê‰∏∫json"</span> code:<span class="number">-1</span> userInfo:<span class="literal">nil</span>]];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="number">2.</span>Â∞ÜjsonÊï∞ÊçÆÁºñÁ†Å‰∏∫<span class="built_in">NSData</span></div><div class="line"> <span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</div><div class="line"> <span class="built_in">NSData</span> *contentData = [<span class="built_in">NSJSONSerialization</span> dataWithJSONObject:object options:<span class="built_in">NSJSONWritingPrettyPrinted</span> error:&amp;error];</div><div class="line"> <span class="built_in">NSString</span> *contentStr = [[<span class="built_in">NSString</span> alloc] initWithData:contentData encoding:<span class="built_in">NSUTF8StringEncoding</span>];</div><div class="line"> contentData = [contentStr dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</div><div class="line"></div><div class="line"><span class="number">3.</span>Âà§Êñ≠ÁºñÁ†ÅÂêéÁöÑÊï∞ÊçÆÈïøÂ∫¶</div><div class="line"> <span class="keyword">if</span> (contentData.length &gt; <span class="number">1000000</span> - countOfLengthByte) &#123;</div><div class="line">        [output didEndEncode:<span class="literal">nil</span> error:[<span class="built_in">NSError</span> errorWithDomain:<span class="string">@"encoderÁöÑÊï∞ÊçÆÂ§™Èïø"</span> code:<span class="number">-1</span> userInfo:<span class="literal">nil</span>]];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="number">4.</span>Â∞ÜÊï∞ÊçÆÈïøÂ∫¶, ÊãºÊé•Âà∞ÂåÖÂ§¥</div><div class="line"> <span class="built_in">NSUInteger</span> contentDataLength = contentData.length;</div><div class="line"> <span class="built_in">NSData</span> *headData = [<span class="keyword">self</span> dataForLength:contentDataLength byteCount:countOfLengthByte reverse:<span class="literal">NO</span>];</div><div class="line">    </div><div class="line"> <span class="built_in">NSMutableData</span> *data = [<span class="built_in">NSMutableData</span> data];</div><div class="line"> [data appendData:headData];</div><div class="line"> [data appendData:contentData];</div><div class="line"></div><div class="line"><span class="number">5.</span>ÂàÜÂèëÊï∞ÊçÆ</div><div class="line"> [output didEndEncode:data error:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<h3 id="Ëß£Á†ÅÂô®‰ª£Á†ÅËØ¶Ëß£-LCSocketDecoder"><a href="#Ëß£Á†ÅÂô®‰ª£Á†ÅËØ¶Ëß£-LCSocketDecoder" class="headerlink" title="Ëß£Á†ÅÂô®‰ª£Á†ÅËØ¶Ëß£ - LCSocketDecoder"></a>Ëß£Á†ÅÂô®‰ª£Á†ÅËØ¶Ëß£ - LCSocketDecoder</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>Âà§Êñ≠Êï∞ÊçÆÊòØÂê¶‰∏∫<span class="built_in">NSData</span>Á±ªÂûã</div><div class="line"><span class="keyword">if</span> (![object isKindOfClass:[<span class="built_in">NSData</span> <span class="keyword">class</span>]]) &#123;</div><div class="line">        [output didEndDecode:<span class="literal">nil</span> error:[<span class="built_in">NSError</span> errorWithDomain:<span class="string">@"ÂΩìÂâçÊï∞ÊçÆÁ±ªÂûãÈùûNSData"</span> code:<span class="number">-1</span> userInfo:<span class="literal">nil</span>]];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="number">2.</span>ÂàùÂßãÂåñ, Âπ∂Êà™ÂèñÂåÖÂ§¥Êï∞ÊçÆ</div><div class="line"> <span class="keyword">self</span>.needAppend = <span class="literal">NO</span>;</div><div class="line"> <span class="built_in">NSData</span> *packetData = object;</div><div class="line"> [<span class="keyword">self</span>.tempData appendData:packetData];</div><div class="line"> packetData = [<span class="keyword">self</span>.tempData <span class="keyword">copy</span>];</div><div class="line">    </div><div class="line"> <span class="built_in">NSData</span> *headerData = [packetData subdataWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, countOfLengthByte)];</div><div class="line"> <span class="built_in">NSUInteger</span> contentLength = [<span class="keyword">self</span> lengthForData:headerData reverse:<span class="literal">YES</span>];</div><div class="line"></div><div class="line"><span class="number">3.</span>Âà§Êñ≠ÊòØÂê¶Á≤òÂåÖ</div><div class="line"><span class="keyword">while</span> (packetData.length &gt;= contentLength) &#123; &#125;</div><div class="line">  <span class="number">3.1</span> Âà§Êñ≠ÂåÖÁöÑÈïøÂ∫¶</div><div class="line">  <span class="keyword">if</span> (contentLength &gt; <span class="number">1000000</span> - countOfLengthByte) &#123; <span class="comment">// ÊúçÂä°Âô®ÂÆöÁöÑ...</span></div><div class="line">            [output didEndDecode:<span class="literal">nil</span> error:[<span class="built_in">NSError</span> errorWithDomain:<span class="string">@"Êï∞ÊçÆÂ§™Èïø"</span> code:<span class="number">-1</span> userInfo:<span class="literal">nil</span>]];</div><div class="line">            <span class="keyword">return</span>;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">  </div><div class="line">  <span class="number">3.2</span>Êà™ÂèñÂåÖ‰ΩìÂÜÖÂÆπ</div><div class="line">  <span class="built_in">NSData</span> *contentData = [packetData subdataWithRange:<span class="built_in">NSMakeRange</span>(countOfLengthByte, contentLength)];</div><div class="line"></div><div class="line">  <span class="number">3.3</span> ËæìÂá∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂåÖ, Êà™ÂèñÂâ©‰ΩôÁöÑÂåÖ</div><div class="line">   [output didEndDecode:contentData error:<span class="literal">nil</span>];</div><div class="line">  packetData = [packetData subdataWithRange:<span class="built_in">NSMakeRange</span>(contentLength + countOfLengthByte , packetData.length - contentLength - countOfLengthByte)];</div><div class="line"></div><div class="line">  <span class="number">3.4</span> Âà§Êñ≠ÂåÖÂ§¥ÈïøÂ∫¶, Â¶ÇÊûúÂ∞è‰∫éËßÑÂÆöÁöÑ, ÂàôË∑≥Âá∫Âæ™ÁéØ, Á≠âÂæÖÊãºÊé•</div><div class="line">    <span class="keyword">if</span> (packetData.length &lt; countOfLengthByte) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">self</span>.tempData.length != <span class="number">0</span>) &#123;</div><div class="line">                [<span class="keyword">self</span>.tempData resetBytesInRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, <span class="keyword">self</span>.tempData.length)];</div><div class="line">                [<span class="keyword">self</span>.tempData setLength:<span class="number">0</span>];</div><div class="line">                <span class="keyword">self</span>.needAppend = <span class="literal">YES</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">  <span class="number">3.5</span> Êà™ÂèñÂåÖÂ§¥ÁöÑÊï∞ÊçÆ,ËÆ°ÁÆóÈïøÂ∫¶</div><div class="line">   headerData = [packetData subdataWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, countOfLengthByte)];</div><div class="line">  contentLength = [<span class="keyword">self</span> lengthForData:headerData reverse:<span class="literal">YES</span>];</div><div class="line"></div><div class="line">  <span class="number">3.6</span>.Âè™Ë¶ÅÊâßË°å‰∫Ü<span class="keyword">while</span>, Â∞ÜtempDataÁöÑÊï∞ÊçÆÊ∏ÖÁ©∫, ÊãºÊé•Êñ∞ÁöÑÊï∞ÊçÆ</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">self</span>.tempData.length != <span class="number">0</span>) &#123;</div><div class="line">            [<span class="keyword">self</span>.tempData resetBytesInRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, <span class="keyword">self</span>.tempData.length)];</div><div class="line">            [<span class="keyword">self</span>.tempData setLength:<span class="number">0</span>];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">self</span>.needAppend = <span class="literal">YES</span>;</div></pre></td></tr></table></figure>
<h2 id="‰∏Ä‰∫õÂ∞èÁªÜËäÇ"><a href="#‰∏Ä‰∫õÂ∞èÁªÜËäÇ" class="headerlink" title="‰∏Ä‰∫õÂ∞èÁªÜËäÇ"></a>‰∏Ä‰∫õÂ∞èÁªÜËäÇ</h2><h3 id="ËÆ°ÁÆóÊ†πÊçÆNSDataÂåÖÂ§¥ÁöÑÈïøÂ∫¶-lengthForData"><a href="#ËÆ°ÁÆóÊ†πÊçÆNSDataÂåÖÂ§¥ÁöÑÈïøÂ∫¶-lengthForData" class="headerlink" title="ËÆ°ÁÆóÊ†πÊçÆNSDataÂåÖÂ§¥ÁöÑÈïøÂ∫¶- lengthForData"></a>ËÆ°ÁÆóÊ†πÊçÆNSDataÂåÖÂ§¥ÁöÑÈïøÂ∫¶- lengthForData</h3><h5 id="Êâ´Áõ≤"><a href="#Êâ´Áõ≤" class="headerlink" title="Êâ´Áõ≤"></a>Êâ´Áõ≤</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSData</span> ‰∏≠ÁöÑlength‰∏∫<span class="built_in">NSUInteger</span>Á±ªÂûã</div><div class="line">Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúã <span class="built_in">NSUInteger</span>‰∏∫‰ΩïÁâ©</div><div class="line"></div><div class="line"><span class="meta">#if __LP64__ || (TARGET_OS_EMBEDDED &amp;&amp; !TARGET_OS_IPHONE) || TARGET_OS_WIN32 || NS_BUILD_32_LIKE_64</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="built_in">NSInteger</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="built_in">NSUInteger</span>;</div><div class="line"><span class="meta">#else</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> <span class="built_in">NSInteger</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="built_in">NSUInteger</span>;</div><div class="line"><span class="meta">#endif</span></div><div class="line"></div><div class="line">ÁõÆÂâç‰∏ÄËà¨ÈÉΩ‰∏∫<span class="number">64</span>‰ΩçÊìç‰ΩúÁ≥ªÁªü, ÊâÄ‰ª• <span class="built_in">NSUInteger</span> Â∞±ÊòØ <span class="keyword">unsigned</span> <span class="keyword">long</span> Âç†‰∫Ü<span class="number">8</span>bits</div><div class="line"><span class="number">1</span>Â≠óËäÇ(byte) = <span class="number">8</span>bits,‰∏§ËÄÖÊç¢ÁÆóÊòØ<span class="number">1</span>Ôºö<span class="number">8</span>ÁöÑÂÖ≥Á≥ª„ÄÇ</div><div class="line">Áï•Â∏¶:‰∏Ä‰∏™Ê±âÂ≠óÂç†‰∫Ü‰∏§‰∏™Â≠óËäÇ</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSUInteger</span>)lengthForData:(<span class="built_in">NSData</span> *)data</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSUInteger</span> dataLen = data.length;</div><div class="line">    <span class="built_in">NSUInteger</span> length = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> offset = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (offset &lt; dataLen) &#123;</div><div class="line">        <span class="built_in">NSUInteger</span> tempVal = <span class="number">0</span>;</div><div class="line">        [data getBytes:&amp;tempVal range:<span class="built_in">NSMakeRange</span>(offset, <span class="number">1</span>)];</div><div class="line">        length += (tempVal &lt;&lt; (<span class="number">8</span> * offset));</div><div class="line">        offset++;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> length;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">1.</span>Â∞ÜÊï∞ÊçÆÁöÑÈ´ò‰Ωé‰Ωç, Êõ¥Êîπ‰∏∫‰Ωé‰ΩçÂú®Ââç,È´ò‰ΩçÂú®Âêé,Â¶Ç:</div><div class="line">&lt;<span class="number">00000045</span>&gt; --&gt; &lt;<span class="number">45000000</span>&gt;Êï∞ÊçÆ‰ª•<span class="number">16</span>ËøõÂà∂ÁöÑÂΩ¢ÂºèÂ±ïÁ§∫,</div><div class="line">È™åËØÅ:Âà©Áî®ËÆ°ÁÆóÂô®ËΩ¨Êç¢‰∏∫ÂçÅËøõÂà∂ Á≠â‰∫é <span class="number">69.</span>ÂêéÈôÑÂõæ.</div><div class="line"></div><div class="line"><span class="number">2.</span>Âà©Áî®<span class="built_in">NSData</span> ‰∏≠ÁöÑ:</div><div class="line">  - (<span class="keyword">void</span>)getBytes:(<span class="keyword">void</span> *)buffer range:(<span class="built_in">NSRange</span>)range</div><div class="line">ÊñπÊ≥ïËé∑ÂèñÊØè‰∏Ä‰∏™Â≠óËäÇ</div><div class="line"></div><div class="line"><span class="number">3.</span>(Ê≥®ÊÑèÂΩìÂâç‰∏∫:‰Ωé‰ΩçÂú®Ââç,È´ò‰ΩçÂú®Âêé)</div><div class="line">Â∞ÜÊØè‰∏Ä‰∏™Â≠óËäÇ, Ê†πÊçÆÂ≠óËäÇÊâÄÂ±ûÁöÑËåÉÂõ¥,Áªü‰∏ÄÂæÄÂ∑¶‰ΩçÁßªÁõ∏Â∫îÁöÑ <span class="number">8</span> (<span class="number">1</span>Â≠óËäÇ(byte) = <span class="number">8</span>bits)ÁöÑÂÄçÊï∞, </div><div class="line">‰πüÂ∞±ÊòØËØ¥,Â∞ÜÂêéÈù¢È´ò‰ΩçÁöÑÂ≠óËäÇ,Áªü‰∏ÄÂ§ÑÁêÜ‰∏∫‰Ωé‰ΩçÁöÑÂ≠óËäÇ, Â∞ÜÁªü‰∏ÄÊ†ºÂºèÁöÑÂ≠óËäÇ, Áõ∏Âä†.</div><div class="line">Âà©Áî®%zd ËæìÂá∫ÊØè‰∏Ä‰∏™Â≠óËäÇÁöÑ ÂçÅËøõÂà∂ÁöÑÂ§ßÂ∞è.ËøõË°åÊ£ÄÈ™å.</div></pre></td></tr></table></figure>
<p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92iig5bwaj209s0bk0tr.jpg" alt=""></p>
<p><img src="http://ww3.sinaimg.cn/large/65e4f1e6gw1f92iiun4e9j209u0bmmy3.jpg" alt=""></p>
<p><img src="http://ww4.sinaimg.cn/large/65e4f1e6gw1f92ij2cezsj20ft0ckac9.jpg" alt=""></p>
<h3 id="È´ò‰Ωé‰Ωç‰∫íÊç¢-dataWithReverse"><a href="#È´ò‰Ωé‰Ωç‰∫íÊç¢-dataWithReverse" class="headerlink" title="È´ò‰Ωé‰Ωç‰∫íÊç¢-dataWithReverse"></a>È´ò‰Ωé‰Ωç‰∫íÊç¢-dataWithReverse</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSData</span> *)dataWithReverse:(<span class="built_in">NSData</span> *)data</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSMutableData</span> *dstData = [[<span class="built_in">NSMutableData</span> alloc] initWithData:data];</div><div class="line">    <span class="built_in">NSUInteger</span> count = data.length / <span class="number">2</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="built_in">NSUInteger</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</div><div class="line">        </div><div class="line">        <span class="built_in">NSRange</span> head = <span class="built_in">NSMakeRange</span>(i, <span class="number">1</span>);</div><div class="line">        <span class="built_in">NSRange</span> end = <span class="built_in">NSMakeRange</span>(data.length - i - <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        </div><div class="line">        <span class="built_in">NSData</span> *headData = [data subdataWithRange:head];</div><div class="line">        <span class="built_in">NSData</span> *endData = [data subdataWithRange:end];</div><div class="line">        </div><div class="line">        [dstData replaceBytesInRange:head withBytes:endData.bytes];</div><div class="line">        [dstData replaceBytesInRange:end withBytes:headData.bytes];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> dstData;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">1.</span>‰æãÁî®<span class="built_in">NSMutableData</span> Â≠óËäÇ‰∫íÊç¢ ÁöÑÊñπÊ≥ï</div><div class="line">- (<span class="keyword">void</span>)replaceBytesInRange:(<span class="built_in">NSRange</span>)range withBytes:(<span class="keyword">const</span> <span class="keyword">void</span> *)bytes;</div><div class="line"></div><div class="line"><span class="number">2.</span>ÈÅçÂéÜÊï∞ÊçÆ</div><div class="line">‰ªéÊî∂Â∞æÂºÄÂßã,‰æùÊ¨°Â∞ÜÂ≠óËäÇ‰∫íÊç¢, ‰∏ÄËà¨ÂåÖÂ§¥ÊâÄÂç†Â≠óËäÇÈÉΩ‰∏ç‰ºöÂ§™Â§ö, ÊâÄ‰ª•Âè™ÈúÄÈÅçÂéÜÂá†Ê¨°Â∞±ÂèØ‰ª•ÂÆåÊàê,ÈÅçÂéÜÁöÑÊ¨°Êï∞‰∏∫Â≠óËäÇÊÄªÊï∞ÂáèÂçä</div></pre></td></tr></table></figure>
<h3 id="Â∞ÜÈïøÂ∫¶ËΩ¨‰∏∫Âç†Âõ∫ÂÆöÂ≠óËäÇÊï∞ÁöÑNSData-dataForLength"><a href="#Â∞ÜÈïøÂ∫¶ËΩ¨‰∏∫Âç†Âõ∫ÂÆöÂ≠óËäÇÊï∞ÁöÑNSData-dataForLength" class="headerlink" title="Â∞ÜÈïøÂ∫¶ËΩ¨‰∏∫Âç†Âõ∫ÂÆöÂ≠óËäÇÊï∞ÁöÑNSData - dataForLength"></a>Â∞ÜÈïøÂ∫¶ËΩ¨‰∏∫Âç†Âõ∫ÂÆöÂ≠óËäÇÊï∞ÁöÑNSData - dataForLength</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">  <span class="built_in">NSMutableData</span> *valData = [<span class="built_in">NSMutableData</span> data];</div><div class="line">    <span class="built_in">NSUInteger</span> templen = length;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> offset = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (offset &lt; byteCount) &#123;</div><div class="line">        <span class="keyword">unsigned</span> <span class="keyword">char</span> valChar = <span class="number">0xff</span> &amp; templen;</div><div class="line">        [valData appendBytes:&amp;valChar length:<span class="number">1</span>];</div><div class="line"></div><div class="line">        templen = templen &gt;&gt; <span class="number">8</span>;</div><div class="line">        offset++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> valData;</div><div class="line"></div><div class="line"><span class="number">1.</span>Âà©Áî®:<span class="built_in">NSMutableData</span> ÁöÑÊñπÊ≥ï</div><div class="line">- (<span class="keyword">void</span>)appendBytes:(<span class="keyword">const</span> <span class="keyword">void</span> *)bytes length:(<span class="built_in">NSUInteger</span>)length;</div><div class="line"></div><div class="line"><span class="number">2.</span>Â∞ÜÊï∞ÊçÆ   &amp; <span class="number">0xff</span> </div><div class="line"><span class="number">0xff</span>ÊòØÂçÅÂÖ≠ËøõÂà∂FFÁöÑË°®Á§∫ÊñπÊ≥ïÔºåÂõ†‰∏∫‰∏Ä‰∏™ÂçÅÂÖ≠ËøõÂà∂Êï∞Â≠óËΩ¨Êç¢Êàê‰∫åËøõÂà∂ÊòØÂõõ‰ΩçÔºåÂç≥F=<span class="number">1111</span>ÔºåÊâÄ‰ª•<span class="number">0xff</span>Âç†Áî®‰∏Ä‰∏™Â≠óËäÇ, <span class="number">8</span>bits</div><div class="line">&amp;Á¨¶Ë°®Á§∫ÁöÑÊòØÊåâ‰ΩçÊï∞ËøõË°å‰∏éÔºàÂêå‰∏∫<span class="number">1</span>ÁöÑÊó∂ÂÄôËøîÂõû<span class="number">1</span>ÔºåÂê¶ÂàôËøîÂõû<span class="number">0</span>Ôºâ</div><div class="line">‰øùÁïôÂêé<span class="number">7</span>‰ΩçÔºåÈ´ò‰ΩçÊ∏ÖÈõ∂,ÈÅøÂÖçÁ¨¶Âè∑‰ΩçÊâ©Â±ïÔºö</div><div class="line"></div><div class="line"><span class="number">3.</span><span class="keyword">while</span>Âæ™ÁéØÁöÑËØ¥Êòé:</div><div class="line">È¶ñÂÖà, <span class="number">0xff</span> &amp; templen, Âè™‰øùÁïôÊúÄ‰ΩéÁöÑÂ≠óËäÇ, Ëé∑ÂèñÂà∞ÊúÄ‰Ωé‰ΩçÁöÑÂ≠óËäÇ, Âà©Áî®appendBytes, Â∞ÜÊ≠§Â≠óËäÇÊ∑ªÂä†ËøõÂéª, </div><div class="line">ËøõËÄåÂ∞ÜtemplenÂæÄÂè≥Áßª<span class="number">8</span>‰Ωç, ‰πüÂ∞±ÊòØÂâîÈô§ÂàöÊâçËÆ°ÁÆóËøáÁöÑÂ≠óËäÇ, Ëé∑ÂèñÁ¨¨‰∫å‰∏™Â≠óËäÇ</div><div class="line">,Â∞ÜÁ¨¨‰∫å‰∏™Â≠óËäÇÊ∑ªÂä†ËøõÂéª.‰æùÊ¨°ÂæÄÂêéÁõ¥Âà∞Â∞ÜÊâÄÊúâÁöÑÂåÖÂ§¥Â≠óËäÇÊ∑ªÂä†ÂÆåÊØï</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/socket/">socket</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-Â∞ÅË£ÖÂΩïÈü≥‰∏éÊí≠Êîæ"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/03/31/Â∞ÅË£ÖÂΩïÈü≥‰∏éÊí≠Êîæ/">ÂΩïÈü≥‰∏éÊú¨Âú∞Êí≠Êîæ</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/03/31/Â∞ÅË£ÖÂΩïÈü≥‰∏éÊí≠Êîæ/" class="article-date">
	  <time datetime="2016-03-30T16:00:00.000Z" itemprop="datePublished">2016-03-31</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="ÁÆÄË®Ä"><a href="#ÁÆÄË®Ä" class="headerlink" title="ÁÆÄË®Ä"></a>ÁÆÄË®Ä</h3><p>ËøëÊúüÁî±‰∫éË¶ÅÂÆûÁé∞‰∏Ä‰∏™Êú¨Âú∞ÂΩïÈü≥‰∏éÊí≠ÊîæÁöÑÂ∞èÂäüËÉΩ, ÊÉ≥ÁùÄÊääÂΩïÈü≥‰∏éÊí≠ÊîæÈõÜÊàêÂú®‰∏Ä‰∏™Á±ª‰∏≠, Êèê‰æõÁªü‰∏ÄÁöÑÊé•Âè£, Êñπ‰æøÂÖ∂‰ªñÂêå‰∫ãË∞ÉÁî®.</p>
<p>AVAudioRecorder ‰∏é AVAudioPlayerÈÉΩÂ±û‰∫éÈü≥È¢ë‰∏ìÁî®Á±ª(Audio-only classes),Ëøô‰∫õÁ±ªÊòØËØ•Ê°ÜÊû∂‰∏≠ÊúÄÂè§ËÄÅ, ‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑÂá†‰∏™Á±ª.<br><img src="http://ww1.sinaimg.cn/large/65e4f1e6gw1f937o0amtdj20gp09ct8y.jpg" alt=""></p>
<h3 id="AVAudioSession"><a href="#AVAudioSession" class="headerlink" title="AVAudioSession"></a>AVAudioSession</h3><p>AVAudioSessionÊòØÂ∫îÁî®Á®ãÂ∫èÂíåÊìç‰ΩúÁ≥ªÁªü‰πãÈó¥ÊâÆÊºî‰∏≠Èó¥‰∫∫ÁöÑËßíËâ≤.ËßÑÂÆö‰∫ÜÂ∫îÁî®Á®ãÂ∫è(app)‰∏éÁ≥ªÁªüÈü≥È¢ëË°å‰∏∫‰∫§‰∫íÁöÑËßÑËåÉ, ‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÂè™Êúâ‰∏Ä‰∏™AVAudioSessionÁöÑÂÆû‰æã.Â∫îÁî®Á®ãÂ∫èÈÄöËøáËÆæÁΩÆAVAudioSessionÁöÑÂ±ûÊÄßÂëäËØâÁ≥ªÁªüÊÉ≥Âà∞ËææÁöÑÊïàÊûú, Á≥ªÁªü‰ºöÁªºÂêàÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÁöÑAVAudioSessionÂ±ûÊÄßÊù•ÂÜ≥ÂÆöÁ°¨‰ª∂ËæìÂÖ•/ËæìÂá∫. </p>
<h4 id="AVAudioSessionÁöÑÂàÜÁ±ª"><a href="#AVAudioSessionÁöÑÂàÜÁ±ª" class="headerlink" title="AVAudioSessionÁöÑÂàÜÁ±ª"></a>AVAudioSessionÁöÑÂàÜÁ±ª</h4><table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>‰ΩúÁî®</th>
<th>ÊòØÂê¶ÂÖÅËÆ∏Ê∑∑Èü≥</th>
<th>Èü≥È¢ëËæìÂÖ•</th>
<th>Èü≥È¢ëËæìÂá∫</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ambient</td>
<td>Ê∏∏Êàè„ÄÅÊïàÁéáÂ∫îÁî®Á®ãÂ∫è</td>
<td>‚òëÔ∏è</td>
<td>Êó†</td>
<td>‚òëÔ∏è</td>
</tr>
<tr>
<td>SoloAmbient(ÈªòËÆ§)</td>
<td>Ê∏∏Êàè„ÄÅÊïàÁéáÂ∫îÁî®Á®ãÂ∫è</td>
<td>Êó†</td>
<td>Êó†</td>
<td>‚òëÔ∏è</td>
</tr>
<tr>
<td>Playback</td>
<td>Èü≥È¢ëÂíåËßÜÈ¢ëÊí≠ÊîæÂô®</td>
<td>ÂèØÈÄâ</td>
<td>Êó†</td>
<td>‚òëÔ∏è</td>
</tr>
<tr>
<td>Record</td>
<td>ÂΩïÈü≥Êú∫„ÄÅÈü≥È¢ëÊçïÊçâ</td>
<td>Êó†</td>
<td>‚òëÔ∏è</td>
<td>Êó†</td>
</tr>
<tr>
<td>PlayAndRecord</td>
<td>VoIP„ÄÅËØ≠Èü≥ËÅäÂ§©</td>
<td>ÂèØÈÄâ</td>
<td>‚òëÔ∏è</td>
<td>‚òëÔ∏è</td>
</tr>
<tr>
<td>AudioProcessing</td>
<td>Á¶ªÁ∫ø‰ºöËØùÂíåÂ§ÑÁêÜ</td>
<td>Êó†</td>
<td>Êó†</td>
<td>Êó†</td>
</tr>
<tr>
<td>MultiRoute</td>
<td>‰ΩøÁî®Â§ñÈÉ®Á°¨‰ª∂ÁöÑÈ´òÁ∫ßA/VÂ∫îÁî®Á®ãÂ∫è</td>
<td>Êó†</td>
<td>‚òëÔ∏è</td>
<td>‚òëÔ∏è</td>
</tr>
</tbody>
</table>
<p>‰∏äËø∞ÂàÜÁ±ªÊâÄÊèê‰æõÁöÑÂá†ÁßçÂ∏∏ËßÅÁöÑË°å‰∏∫ÂèØ‰ª•Êª°Ë∂≥Â§ßÈÉ®ÂàÜÁöÑÂú∫ÊôØÈúÄÊ±Ç, Â¶ÇÊûúËøòÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑÂäüËÉΩ, ÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∫õÂàÜÁ±ªÂèØ‰ª•ÈÄöËøáoptionsÂíåmodesÊñπÊ≥ïËøõ‰∏ÄÊ≠•Ëá™ÂÆö‰πâ.</p>
<p>È°πÁõÆ‰∏≠Áî®Âà∞‰∫Ü‰∏âÁßçÁä∂ÊÄÅ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">switch (session) &#123;</div><div class="line">       case audioSessionAudioRecord:</div><div class="line">           category = AVAudioSessionCategoryRecord;</div><div class="line">           break;</div><div class="line">       case audioSessionPlay:</div><div class="line">           category = AVAudioSessionCategoryPlayback;</div><div class="line">           break;</div><div class="line">       default:</div><div class="line">           category = AVAudioSessionCategoryAmbient;</div><div class="line">           break;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>ÂàùÂßãÂåñÁä∂ÊÄÅ‰∏∫:AVAudioSessionCategoryAmbient<br>ÂΩïÈü≥Áä∂ÊÄÅ‰∏∫:AVAudioSessionCategoryRecord<br>Êí≠ÊîæÁä∂ÊÄÅ‰∏∫:AVAudioSessionCategoryPlayback</p>
</blockquote>
<h3 id="AVAudioRecorder"><a href="#AVAudioRecorder" class="headerlink" title="AVAudioRecorder"></a>AVAudioRecorder</h3><p>AVAudioRecorderÊûÑÂª∫‰∏éAudio Queue Services‰πã‰∏ä, ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ß‰∏î‰ª£Á†ÅÁÆÄÂçïÊòìÁî®ÁöÑOCÊé•Âè£.Êàë‰ª¨ÂèØ‰ª•Âú®iOSËÆæÂ§á‰∏ä‰ΩøÁî®Ëøô‰∏™Á±ªÊù•‰ªéÂÜÖÁΩÆÁöÑÈ∫¶ÂÖãÈ£éÂΩïÂà∂Èü≥È¢ë, ‰πüÂèØ‰ª•‰ªéÂ§ñÈÉ®Èü≥È¢ëËÆæÂ§áËøõË°åÂΩïÂà∂, ÊØîÂ¶ÇËÄ≥Êú∫, USBÈ∫¶ÂÖãÈ£éÁ≠â.</p>
<h4 id="ÂàõÂª∫AVAudioRecorder"><a href="#ÂàõÂª∫AVAudioRecorder" class="headerlink" title="ÂàõÂª∫AVAudioRecorder"></a>ÂàõÂª∫AVAudioRecorder</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (nullable instancetype)initWithURL:(NSURL *)url </div><div class="line">settings:(NSDictionary&lt;NSString *, id&gt; *)settings </div><div class="line">error:(NSError **)outError;</div></pre></td></tr></table></figure>
<p>ÂèØËßÅÂàõÂª∫AVAudioRecorderÂÆû‰æã, ÈúÄË¶Å‰∏â‰∏™ÂèÇÊï∞</p>
<ul>
<li>Áî®‰∫éË°®Á§∫Èü≥È¢ëÊµÅÂÜôÂÖ•Êñá‰ª∂ÁöÑÊú¨Âú∞Êñá‰ª∂URL</li>
<li>ÂåÖÂê´Áî®‰∫éÈÖçÁΩÆÂΩïÈü≥‰ºöËØùÈîÆÂÄº‰ø°ÊÅØÁöÑNSDictionary</li>
<li>Áî®‰∫éÊçïÊçâÈîôËØØÁöÑNSErrorÊåáÈíà</li>
</ul>
<h5 id="Êú¨Âú∞Êñá‰ª∂URL"><a href="#Êú¨Âú∞Êñá‰ª∂URL" class="headerlink" title="Êú¨Âú∞Êñá‰ª∂URL"></a>Êú¨Âú∞Êñá‰ª∂URL</h5><p>‰º†ÂÖ•‰∏Ä‰∏™path, ÂéªÈô§PathExtension(ËßÑÈÅø), Êñ∞Â¢ûPathExtension</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[NSURL fileURLWithPath:[[recordPath </div><div class="line">stringByDeletingPathExtension] </div><div class="line">stringByAppendingPathExtension:@&quot;wav&quot;]];</div></pre></td></tr></table></figure>
<h5 id="ÂΩïÈü≥‰ºöËØùÈîÆÂÄº‰ø°ÊÅØNSDictionary"><a href="#ÂΩïÈü≥‰ºöËØùÈîÆÂÄº‰ø°ÊÅØNSDictionary" class="headerlink" title="ÂΩïÈü≥‰ºöËØùÈîÆÂÄº‰ø°ÊÅØNSDictionary"></a>ÂΩïÈü≥‰ºöËØùÈîÆÂÄº‰ø°ÊÅØNSDictionary</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[[NSDictionary alloc] initWithObjectsAndKeys:</div><div class="line"></div><div class="line">[NSNumber numberWithFloat: 11025.0],AVSampleRateKey, //ÈááÊ†∑Áéá </div><div class="line">[NSNumber numberWithInt: kAudioFormatLinearPCM],AVFormatIDKey,</div><div class="line">[NSNumber numberWithInt:16],AVLinearPCMBitDepthKey,//ÈááÊ†∑‰ΩçÊï∞ </div><div class="line">[NSNumber numberWithInt: 2], AVNumberOfChannelsKey,//ÈÄöÈÅìÁöÑÊï∞ÁõÆ</div><div class="line">[NSNumber numberWithInt:AVAudioQualityMax], AVEncoderAudioQualityKey, // ÂΩïÈü≥Ë¥®Èáè</div><div class="line"></div><div class="line">nil];</div></pre></td></tr></table></figure>
<ul>
<li><p>Èü≥È¢ëÊ†ºÂºè</p>
<ul>
<li><p>AVFormatIDKeyÈîÆÂÆö‰πâ‰∫ÜÂÜôÂÖ•ÂÜÖÂÆπÁöÑÈü≥È¢ëÊ†ºÂºè,Â∏∏Áî®ÁöÑÈü≥È¢ëÊ†ºÂºèÊâÄÊîØÊåÅÁöÑÂÄº: </p>
<ul>
<li>kAudioFormatLinearPCM</li>
<li>kAudioFormatMPEG4AAC</li>
<li>kAudioFormatAppleIMA4</li>
<li>kAudioFormatMPEGLayer3</li>
<li>kAudioFormatAMR</li>
<li>‚Ä¶.</li>
</ul>
<blockquote>
<p>ÊåáÂÆökAudioFormatLinearPCM ‰ºöÂ∞ÜÊú™ÂéãÁº©ÁöÑÈü≥È¢ëÊµÅÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠, ËøôÁßçÊ†ºÂºèÁöÑ‰øùÁúüÂ∫¶ÊúÄÈ´ò,Áõ∏Â∫îÁöÑÊñá‰ª∂‰πüÊòØÊúÄÂ§ß.ÈÄâÊã©AAC(kAudioFormatMPEG4AAC)ÊàñËÄÖkAudioFormatAppleIMA4ÁöÑÂéãÁº©Ê†ºÂºè‰ºöÁº©Â∞èÊñá‰ª∂, ÂêåÊó∂ËøòËÉΩ‰øùËØÅÈ´òË¥®ÈáèÁöÑÈü≥È¢ëÂÜÖÂÆπ. ÂΩïÂà∂ÁöÑÈü≥È¢ëÊ†ºÂºèÂøÖÈ°ªÂíåÂèÇÊï∞ÂÆö‰πâÁöÑÊñá‰ª∂Á±ªÂûãÂÖºÂÆπ.‰æãÂ¶Ç:ÂΩïÂà∂‰∏Ä‰∏™aaa.wavÁöÑÊñá‰ª∂, ÈÇ£‰πàÂΩïÂà∂ÁöÑÈü≥È¢ëÂøÖÈ°ªÊª°Ë∂≥WAVEÁöÑÊ†ºÂºèË¶ÅÊ±Ç,Âç≥LinerPCM.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>ÈááÊ†∑Áéá</p>
<ul>
<li><p>AVSampleRateKeyÁî®‰∫éÂÆö‰πâÂΩïÈü≥Âô®ÁöÑÈááÊ†∑Áéá.ËæìÂÖ•ÁöÑÊ®°ÊãüÈü≥È¢ë‰ø°Âè∑ÊØè‰∏ÄÁßíÁöÑÈááÊ†∑Êï∞,ÊòØÂΩ±ÂìçÈü≥È¢ëË¥®ÈáèÂíåÈü≥È¢ëÊñá‰ª∂Â§ßÂ∞è,ÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏Ä‰∏™Âõ†Á¥†,ÈááÊ†∑ÁéáË∂äÂ∞è,Êñá‰ª∂Ë∂äÂ∞è,Ë¥®ÈáèË∂ä‰Ωé.Ê†áÂáÜÁöÑÈááÊ†∑ÁéáÊúâ:8000„ÄÅ16000„ÄÅ22050„ÄÅ44100</p>
<blockquote>
<p>‰∫∫Á±ªÂèØÊé•Êî∂ÁöÑÈü≥È¢ëËåÉÂõ¥‰∏∫20Hz-20KHz. Èü≥È¢ëÊúÄ‰Ω≥ÁöÑÈááÊ†∑Áéá‰∏∫ÊâÄÈúÄÈááÊ†∑ÂØπË±°ÁöÑÊúÄÈ´òÈ¢ëÁéáÁöÑ‰∏§ÂÄç;AMÂπøÊí≠Á±ªÂûãÁöÑÈááÊ†∑Áéá‰∏∫8KHz;CDË¥®ÈáèÁöÑÈááÊ†∑Áéá‰∏∫44.1KHz.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>ÈÄöÈÅìÊï∞</p>
<ul>
<li>AVNumberOfChannelsKeyËÆ∞ÂΩïÈü≥È¢ëÂÜÖÂÆπÁöÑÈÄöÈÅìÊï∞.ÈªòËÆ§ÂÄº‰∏∫1,Âç≥Áî®ÂçïÂ£∞ÈÅìÂΩïÂà∂, ËÆæÁΩÆ‰∏∫2‰ΩøÁî®Á´ã‰ΩìÂ£∞ÂΩïÂà∂.‰∏ÄËà¨ÊÉÖÂÜµÁî®ÂçïÂ£∞ÈÅìÂΩïÈü≥</li>
</ul>
</li>
<li><p>ÊåáÂÆöÊ†ºÂºèÁöÑkey</p>
<ul>
<li>AVEncoderAudioQualityKey - ÂΩïÈü≥Ë¥®Èáè</li>
<li>AVEncoderBitRateKey - Èü≥È¢ëÊØîÁâπÁéá</li>
<li>AVEncoderBitRatePerChannelKey - ÊØèÊù°ÈÄöÈÅìÁöÑÈü≥È¢ëÊØîÁâπÁéá</li>
<li>‚Ä¶</li>
</ul>
</li>
</ul>
<h5 id="ÁõëÂê¨È∫¶ÂÖãÈ£éÊòØÂê¶ÂÖÅËÆ∏‰ΩøÁî®"><a href="#ÁõëÂê¨È∫¶ÂÖãÈ£éÊòØÂê¶ÂÖÅËÆ∏‰ΩøÁî®" class="headerlink" title="ÁõëÂê¨È∫¶ÂÖãÈ£éÊòØÂê¶ÂÖÅËÆ∏‰ΩøÁî®"></a>ÁõëÂê¨È∫¶ÂÖãÈ£éÊòØÂê¶ÂÖÅËÆ∏‰ΩøÁî®</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (BOOL)checkMicrophoneAvailability</div><div class="line">&#123;</div><div class="line">    __block BOOL open = NO;</div><div class="line">    AVAudioSession *session = [AVAudioSession sharedInstance];</div><div class="line">    if ([session respondsToSelector:@selector(requestRecordPermission:)]) &#123;</div><div class="line">        [session performSelector:@selector(requestRecordPermission:) withObject:^(BOOL status) &#123;</div><div class="line">            open = status;</div><div class="line">        &#125;];</div><div class="line">    &#125; else &#123;</div><div class="line">        open = YES;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return open;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="AVAudioPlayer"><a href="#AVAudioPlayer" class="headerlink" title="AVAudioPlayer"></a>AVAudioPlayer</h3><p>AVAudioPlayerÊûÑÂª∫‰∫éCoreAudio‰∏≠ÁöÑC-based Audio Queue ServicesÁöÑÈ°∂Â±Ç, Êèê‰æõ‰∫ÜÂú®Audio Queue ServicesÊâÄËÉΩÊâæÂà∞ÁöÑÊ†∏ÂøÉÂäüËÉΩ, ‰æãÂ¶Ç:Êí≠Êîæ„ÄÅÂæ™ÁéØ„ÄÅÈü≥È¢ëËÆ°Èáè, ‰ΩøÁî®ÁöÑÊòØÈùûÂ∏∏ÂèãÂ•ΩÂπ∂ÁÆÄÂçïÁöÑOCÊé•Âè£.AVAudioPlayerÂè™ËÉΩÊí≠ÊîæÊú¨Âú∞Èü≥È¢ë, ‰ªéÁΩëÁªúÊµÅ‰∏≠Êí≠ÊîæÈü≥È¢ë‰ΩøÁî®AVPlayer.ËøôÈáåÊöÇ‰∏î‰∏çËÆ®ËÆ∫AVPlayer.</p>
<h4 id="ÂàõÂª∫AVAudioPlayer"><a href="#ÂàõÂª∫AVAudioPlayer" class="headerlink" title="ÂàõÂª∫AVAudioPlayer"></a>ÂàõÂª∫AVAudioPlayer</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (nullable instancetype)initWithContentsOfURL:</div><div class="line">(NSURL *)url error:(NSError **)outError;</div><div class="line"></div><div class="line">- (nullable instancetype)initWithData:</div><div class="line">(NSData *)data error:(NSError **)outError;</div></pre></td></tr></table></figure>
<p>Êàë‰ª¨ÈááÁî®URLÁöÑÊñπÂºèÂàõÂª∫, Âè™ÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™Êú¨Âú∞URL</p>
<blockquote>
<p>URLÂøÖÈ°ªÂú®Â∫îÁî®Á®ãÂ∫èÊ≤ôÁõíÂÜÖ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">self.player = [[AVAudioPlayer alloc] </div><div class="line">initWithContentsOfURL:audioUrl error:&amp;error];</div><div class="line"></div><div class="line">[self.player prepareToPlay];</div><div class="line">[self.player play];</div></pre></td></tr></table></figure>
<p>Ë∞ÉÁî®<strong>prepareToPlay</strong>Ëøô‰∏™ÊñπÊ≥ïÊòØÂèØÈÄâÁöÑ, ÂΩìË∞ÉÁî®playÊñπÊ≥ïÊó∂‰ºöÈöêÂΩ¢ÊøÄÊ¥ª, ‰∏çËøáÂú®ÂàõÂª∫Êó∂Ë∞ÉÁî®, ÂèØ‰ª•Èôç‰ΩéË∞ÉÁî®playÊñπÊ≥ïÂíåÂê¨Âà∞Â£∞Èü≥ËæìÂá∫‰πãÈó¥ÁöÑÂª∂Êó∂.</p>
<h4 id="Â§ÑÁêÜ‰∏≠Êñ≠‰∫ã‰ª∂"><a href="#Â§ÑÁêÜ‰∏≠Êñ≠‰∫ã‰ª∂" class="headerlink" title="Â§ÑÁêÜ‰∏≠Êñ≠‰∫ã‰ª∂"></a>Â§ÑÁêÜ‰∏≠Êñ≠‰∫ã‰ª∂</h4><p>ÂΩìÊúâÁîµËØùÊã®ÊâìËøõÊù•ÊàñËÄÖVoIPÁîµËØù, Êàë‰ª¨Â∫îËØ•ÂÅöÂá∫ÂèäÊó∂ÁöÑÂèçÂ∫î,ÁõëÂê¨<strong>AVAudioSessionInterruptionNotification</strong>Áä∂ÊÄÅ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] </div><div class="line">addObserver:self selector:@selector(handleInterruption:) </div><div class="line">name:AVAudioSessionInterruptionNotification </div><div class="line">object:[AVAudioSession sharedInstance]];</div></pre></td></tr></table></figure>
<p>Â¶ÇÊûú<strong>AVAudioSessionInterruptionType</strong>‰∏∫<strong>AVAudioSessionInterruptionTypeBegan</strong>ÂàôÂÅúÊ≠¢ÂΩìÂâçÊí≠Êîæ.Â¶ÇÊûútype‰∏∫<strong>AVAudioSessionInterruptionTypeEnded</strong>‰∏îoptions‰∏∫<strong>AVAudioSessionInterruptionOptionShouldResume</strong>ÂàôÈáçÊñ∞Êí≠Êîæ.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (void)handleInterruption:(NSNotification *)note</div><div class="line">&#123;</div><div class="line">    NSDictionary *info = note.userInfo;</div><div class="line">    AVAudioSessionInterruptionType type = [info[AVAudioSessionInterruptionTypeKey] unsignedIntegerValue];</div><div class="line">    if (type == AVAudioSessionInterruptionTypeBegan) &#123;</div><div class="line">        [self stopPlaying];</div><div class="line">//    &#125; else &#123;</div><div class="line">//        AVAudioSessionInterruptionOptions options = [info[AVAudioSessionInterruptionOptionKey] unsignedIntegerValue];</div><div class="line">//        </div><div class="line">//        if (options == AVAudioSessionInterruptionOptionShouldResume) &#123;</div><div class="line">//            // ÈáçÊñ∞Êí≠Êîæ</div><div class="line">//        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ÂØπÁ∫øË∑ØÊîπÂèòÁöÑÂìçÂ∫î"><a href="#ÂØπÁ∫øË∑ØÊîπÂèòÁöÑÂìçÂ∫î" class="headerlink" title="ÂØπÁ∫øË∑ØÊîπÂèòÁöÑÂìçÂ∫î"></a>ÂØπÁ∫øË∑ØÊîπÂèòÁöÑÂìçÂ∫î</h4><p>Âú®iOSËÆæÂ§á‰∏äÊ∑ªÂä†,ÁßªÈô§Èü≥È¢ëËæìÂÖ•„ÄÅËæìÂá∫Á∫øË∑ØÊó∂, ‰ºöÂèëÁîüÁ∫øË∑ØÁöÑÊîπÂèò, Â¶Ç:Áî®Êà∑ÊèíÂÖ•ËÄ≥Êú∫ÊàñÊñ≠ÂºÄUSBÈ∫¶ÂÖãÈ£éÁ≠â.Ëøô‰∫õ‰∫ã‰ª∂ÁöÑÂèëÁîü, Èü≥È¢ëÂ∞±‰ºöÊ†πÊçÆÊÉÖÂÜµÊîπÂèòËæìÂÖ•/ËæìÂá∫Á∫øË∑Ø.ÁõëÂê¨<strong>AVAudioSessionRouteChangeNotification</strong>Áä∂ÊÄÅ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] </div><div class="line">addObserver:self selector:@selector(handleRouteChange:) </div><div class="line">name:AVAudioSessionRouteChangeNotification </div><div class="line">object:[AVAudioSession sharedInstance]];</div></pre></td></tr></table></figure>
<p>Êé•Êî∂ÈÄöÁü•ÂêéÂÖàÂà§Êñ≠Á∫øË∑ØÂèòÊõ¥ÂèëÁîüÁöÑÂéüÂõ†, ÈÄöËøá<strong>userInfo</strong>‰∏≠ÁöÑ<strong>AVAudioSessionRouteChangeReasonKey</strong>Êé®Êñ≠‰∏çÂêåÁöÑ‰∫ã‰ª∂, ‰æãÂ¶ÇËÄ≥Êú∫Êñ≠ÂºÄËøô‰∏™‰∫ã‰ª∂ÁöÑÂéüÂõ†‰∏∫:<strong>AVAudioSessionRouteChangeReasonOldDeviceUnavailable</strong>, Êé•ÁùÄËé∑ÂèñÊèèËø∞Ââç‰∏Ä‰∏™Á∫øË∑ØÁöÑ‰ø°ÊÅØ<strong>AVAudioSessionRouteDescription</strong>, ‰ªéÁ∫øË∑ØÁöÑÁ¨¨‰∏Ä‰∏™ËæìÂÖ•Êé•Âè£Âà§Êñ≠ÂÖ∂ÊòØÂê¶‰∏∫ËÄ≥Êú∫Êé•Âè£.Â¶ÇÊûúÊòØ, Âàô‰ª£Á†ÅËÄ≥Êú∫ÊãîÂá∫, ÂÅúÊ≠¢Êí≠Êîæ.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">- (void)handleRouteChange:(NSNotification *)note</div><div class="line">&#123;</div><div class="line">    NSDictionary *info = note.userInfo;</div><div class="line">    AVAudioSessionRouteChangeReason reason = [info[AVAudioSessionRouteChangeReasonKey] unsignedIntegerValue];</div><div class="line">    </div><div class="line">    // ËÄ≥Êú∫Êñ≠ÂºÄÁöÑ‰∫ã‰ª∂‰∏∫‰æã</div><div class="line">    if (reason == AVAudioSessionRouteChangeReasonOldDeviceUnavailable) &#123;</div><div class="line">        </div><div class="line">        AVAudioSessionRouteDescription *previousRoute = info[AVAudioSessionRouteChangePreviousRouteKey];</div><div class="line">        </div><div class="line">        AVAudioSessionPortDescription *previousOutput = previousRoute.outputs.firstObject;</div><div class="line">        NSString *portType = previousOutput.portType;</div><div class="line">        if ([portType isEqualToString:AVAudioSessionPortHeadphones]) &#123;</div><div class="line">            [self stopPlaying];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ÂàáÊç¢Âê¨Á≠íÂíåÊâ¨Â£∞Âô®"><a href="#ÂàáÊç¢Âê¨Á≠íÂíåÊâ¨Â£∞Âô®" class="headerlink" title="ÂàáÊç¢Âê¨Á≠íÂíåÊâ¨Â£∞Âô®"></a>ÂàáÊç¢Âê¨Á≠íÂíåÊâ¨Â£∞Âô®</h4><p>ÂΩìÊàë‰ª¨Â∞ÜÊâãÊú∫Ë¥¥ËøëËÄ≥ÊúµÊó∂ÂÄô, ÂΩìÂâçËØ≠Èü≥Êí≠ÊîæÂ∫îËØ•ÊòØÂê¨Á≠íÊ®°Âºè, ÂΩìÊàë‰ª¨ÊãøÁùÄÊâãÊú∫ËßÇÁúãÊó∂ÂÄô, ÂΩìÂâçÁöÑËØ≠Èü≥Êí≠ÊîæÂ∫îËØ•ÊòØÊâ¨Â£∞Âô®ÁöÑÊ®°Âºè.<br>Êàë‰ª¨Â∫îËØ•Ëé∑ÂèñËÆæÂ§áÁöÑÁ∫¢Â§ñÊÑüÂ∫î<strong>setProximityMonitoringEnabled</strong>ÁöÑÁä∂ÊÄÅ‰∏∫<strong>YES</strong>, Âπ∂ÁõëÂê¨Áä∂ÊÄÅÁöÑÊõ¥Êîπ<strong>UIDeviceProximityStateDidChangeNotification</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (void)changeProximityMonitorEnableState:(BOOL)enable &#123;</div><div class="line">    [[UIDevice currentDevice] setProximityMonitoringEnabled:YES];</div><div class="line">    if ([UIDevice currentDevice].proximityMonitoringEnabled == YES) &#123;</div><div class="line">		//ÁõëÂê¨Ë∑ùÁ¶ª‰∫ã‰ª∂ÔºåÂÖàËÆæÁΩÆ‰∏∫YESÔºåÂ¶ÇÊûúËÆæÁΩÆÂÆåÂêéËøòÊòØNOÔºåËØ¥ÊòéÂΩìÂâçËÆæÂ§áËøëË∑ùÁ¶ª‰º†ÊÑüÂô®‰∏çÂèØÁî®</div><div class="line">        if (enable) &#123;</div><div class="line">            [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(sensorStateChange) name:UIDeviceProximityStateDidChangeNotification object:n</div><div class="line">        &#125; else &#123;</div><div class="line">            [[NSNotificationCenter defaultCenter] removeObserver:self name:UIDeviceProximityStateDidChangeNotification object:nil];</div><div class="line">            [[UIDevice currentDevice] setProximityMonitoringEnabled:NO];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ÁõëÂê¨Áä∂ÊÄÅÁöÑÊîπÂèò <strong>sensorStateChange</strong> Â¶ÇÊûúÊ≠§Êó∂ÊâãÊú∫Èù†ËøëÈù¢ÈÉ®ÊîæÂú®ËÄ≥ÊúµÊóÅÔºåÈÇ£‰πàÂ£∞Èü≥Â∞ÜÈÄöËøáÂê¨Á≠íËæìÂá∫ÔºåÂπ∂Â∞ÜÂ±èÂπïÂèòÊöó.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (void)sensorStateChange &#123;</div><div class="line">    if ([[UIDevice currentDevice] proximityState] == YES) &#123;</div><div class="line">        //ÈªëÂ±è</div><div class="line">        [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord error:nil];</div><div class="line">        </div><div class="line">    &#125; else &#123;</div><div class="line">        //Ê≤°ÈªëÂ±èÂπï</div><div class="line">        [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil];</div><div class="line">        if (![self isPlaying]) &#123;</div><div class="line">            //Ê≤°ÊúâÊí≠Êîæ‰∫ÜÔºå‰πüÊ≤°ÊúâÂú®ÈªëÂ±èÁä∂ÊÄÅ‰∏ãÔºåÂ∞±ÂèØ‰ª•ÊääË∑ùÁ¶ª‰º†ÊÑüÂô®ÂÖ≥‰∫Ü</div><div class="line">            [[UIDevice currentDevice] setProximityMonitoringEnabled:NO];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Audio-Metering"><a href="#Audio-Metering" class="headerlink" title="Audio Metering"></a>Audio Metering</h3><p>Audio MeteringÂèØ‰ª•ËÆ©Êàë‰ª¨Ëé∑ÂèñÂà∞Èü≥È¢ëÁöÑÂπ≥ÂùáÂÄºÂàÜË¥ùÂíåÂ≥∞ÂÄºÁöÑÂàÜË¥ùÊï∞ÊçÆ.<strong>averagePowerForChannel</strong>Âíå<strong>peakPowerForChannel</strong>Ëøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™Áî®‰∫éË°®Á§∫Â£∞Èü≥ÂàÜË¥ùÁ≠âÁ∫ßÁöÑÊµÆÁÇπÂÄº. Ëøô‰∏™ÂÄºÁöÑËåÉÂõ¥ÊúÄÂ§ßÂàÜË¥ù0dB - ÊúÄÂ∞èÂàÜË¥ùÊàñÈùôÈü≥ -160dB.ÊØèÊ¨°ÈúÄË¶ÅËØªÂèñÊúÄÊñ∞ÁöÑÂÄº, ÂºÄÂêØ‰∏Ä‰∏™ÂÆöÊó∂Âô®,ÊâßË°åÂÆöÊó∂Âô®ÁöÑÊñπÊ≥ï,Ë∞ÉÁî®updateMeters.Ê†πÊçÆaveragePowerForChannelÊîæÂõûÁöÑÂÄºËøõË°åËÆæÁΩÆ.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">- (void)timerAction</div><div class="line">&#123;</div><div class="line">    if (self.status == subTitleStatuesDefault) &#123;</div><div class="line">        </div><div class="line">        if ([LCAudioRecord recorder]) [[LCAudioRecord recorder] updateMeters];</div><div class="line"></div><div class="line">        float peakPower = [[LCAudioRecord recorder] averagePowerForChannel:0];</div><div class="line">        double ALPHA = 0.05;</div><div class="line">        double value = pow(10, (ALPHA * peakPower));</div><div class="line">        if (value &lt; 0.1 ) &#123;</div><div class="line">            self.bordImageView.image = [UIImage imageNamed:@&quot;ËØ≠Èü≥‰∏≠-1&quot;];</div><div class="line">        &#125; else if (value &lt; 0.15) &#123;</div><div class="line">            self.bordImageView.image = [UIImage imageNamed:@&quot;ËØ≠Èü≥‰∏≠-2&quot;];</div><div class="line">        &#125; else if (value &lt; 0.25) &#123;</div><div class="line">            self.bordImageView.image = [UIImage imageNamed:@&quot;ËØ≠Èü≥‰∏≠-3&quot;];</div><div class="line">        &#125; else if (value &lt; 0.35) &#123;</div><div class="line">            self.bordImageView.image = [UIImage imageNamed:@&quot;ËØ≠Èü≥‰∏≠-4&quot;];</div><div class="line">        &#125; else if (value &lt; 0.9 ) &#123;</div><div class="line">            self.bordImageView.image = [UIImage imageNamed:@&quot;ËØ≠Èü≥‰∏≠-5&quot;];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    self.seconds ++;</div><div class="line">    if (self.seconds &gt;= 599.9) &#123;</div><div class="line">        [self.class dismiss];</div><div class="line">        [[NSNotificationCenter defaultCenter] postNotificationName:@&quot;recordDUrationToolong&quot; object:nil];</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Â∞ÅË£Ö"><a href="#Â∞ÅË£Ö" class="headerlink" title="Â∞ÅË£Ö"></a>Â∞ÅË£Ö</h3><h4 id="ÊÄùË∑Ø"><a href="#ÊÄùË∑Ø" class="headerlink" title="ÊÄùË∑Ø:"></a>ÊÄùË∑Ø:</h4><ul>
<li>ÂàõÂª∫‰∏Ä‰∏™AudioManagerÁªü‰∏ÄÁÆ°ÁêÜaudioRecordÂíåaudioPlay</li>
<li>ÂÖàÂàÜÂà´ÂÆûÁé∞audioRecordÂíåaudioPlayÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ï</li>
<li>Âü∫‰∫éaudioRecordÂíåaudioPlayÊèê‰æõÁöÑÊñπÊ≥ï Âú®AudioManager Áªü‰∏ÄËøõË°åÂ∞ÅË£ÖÊé•Âè£.</li>
<li>Âà©Áî®blockÁöÑÂΩ¢ÂºèÂõûË∞É</li>
</ul>
<p>ÊúÄÁªàÊé•Âè£ÂΩ¢Âºè:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">+ (instancetype)manager;</div><div class="line"></div><div class="line">#pragma mark - LCAudioRecord</div><div class="line">// Âà§Êñ≠È∫¶ÂÖãÈ£éÊòØÂê¶ÂèØÁî®</div><div class="line">- (BOOL)checkMicrophoneAvailability;</div><div class="line"> </div><div class="line">/**</div><div class="line"> *  ÂºÄÂßãÂΩïÈü≥</div><div class="line"> *</div><div class="line"> */</div><div class="line">- (void)startRecordingWithFileName:(NSString *)fileName</div><div class="line">                             completion:(void(^)(NSError *error))completion;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  ÂÅúÊ≠¢ÂΩïÈü≥</div><div class="line"> *</div><div class="line"> */</div><div class="line">- (void)stopRecordingWithCompletion:(void(^)(NSString *recordPath,</div><div class="line">                                                 NSInteger aDuration,</div><div class="line">                                                 NSError *error))completion;</div><div class="line">/**</div><div class="line"> *  ÂèñÊ∂àÂΩïÈü≥</div><div class="line"> */</div><div class="line">- (void)cancelRecording;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  ÂΩìÂâçÊòØÂê¶Ê≠£Âú®ÂΩïÈü≥</div><div class="line"> *</div><div class="line"> */</div><div class="line">- (BOOL)isRecording;</div><div class="line"></div><div class="line"></div><div class="line">#pragma mark - LCAudioPlay</div><div class="line">/**</div><div class="line"> *  Êí≠ÊîæÈü≥È¢ë</div><div class="line"> *</div><div class="line"> */</div><div class="line">- (void)playingWithRecordPath:(NSString *)recordPath</div><div class="line">                  completion:(void(^)(NSError *error))completion;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  ÂÅúÊ≠¢Êí≠Êîæ</div><div class="line"> *</div><div class="line"> */</div><div class="line">- (void)stopPlaying;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  ÂΩìÂâçÊòØÂê¶Ê≠£Âú®Êí≠Êîæ</div><div class="line"> *</div><div class="line"> */</div><div class="line">-(BOOL)isPlaying;</div></pre></td></tr></table></figure>
<p>ÂΩïÈü≥ÊåáÁ§∫Âô®ÁöÑÊé•Âè£:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">typedef NS_ENUM(NSInteger, subTitleStatues) &#123;</div><div class="line">    subTitleStatuesDefault,</div><div class="line">    subTitleStatuesCancel,</div><div class="line">&#125;;</div><div class="line">@interface LCMetersRecordingView : UIView</div><div class="line">// Ê†πÊçÆ Áä∂ÊÄÅÊõ¥Êîπ ÊòæÁ§∫ÁöÑÂÜÖÂÆπ</div><div class="line">+ (void)subTitleLabelStatues:(subTitleStatues)statues;</div><div class="line">+ (void)show;</div><div class="line">+ (void)dismiss;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h4 id="Â¶Ç‰Ωï‰ΩøÁî®"><a href="#Â¶Ç‰Ωï‰ΩøÁî®" class="headerlink" title="Â¶Ç‰Ωï‰ΩøÁî®:"></a>Â¶Ç‰Ωï‰ΩøÁî®:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">1.ÂºÄÂßãÂΩïÈü≥</div><div class="line">// Ê£ÄÊµãÈ∫¶ÂÖãÈ£éÊòØÂê¶ÂèØÁî®</div><div class="line">[LCAudioManager manager] checkMicrophoneAvailability]</div><div class="line">[[LCAudioManager manager] startRecordingWithFileName:[NSString recordFileName] completion:nil];</div><div class="line"></div><div class="line">2.ÁªìÊùüÂΩïÈü≥</div><div class="line">[[LCAudioManager manager] stopRecordingWithCompletion:^(NSString *recordPath, NSInteger aDuration, NSError *error) &#123;</div><div class="line">        if (aDuration &lt; 1) &#123; </div><div class="line">            [MBProgressHUD showError:@&quot;ÂΩïÈü≥Êó∂Èó¥ËøáÁü≠&quot;];</div><div class="line">            return ;</div><div class="line">        &#125;</div><div class="line">        if (!error) &#123; // ÂΩïÈü≥ÊàêÂäü</div><div class="line">          // ÊâßË°å‰∏ã‰∏ÄÊ≠•ËÆ°Âàí</div><div class="line">        &#125;</div><div class="line">    &#125;];</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AVFoundation/">AVFoundation</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-ÁΩëÁªúÂÆâÂÖ®"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/01/12/ÁΩëÁªúÂÆâÂÖ®/">TCP/IPÁΩëÁªúÂÆâÂÖ®(ÂÖ≠)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/01/12/ÁΩëÁªúÂÆâÂÖ®/" class="article-date">
	  <time datetime="2016-01-11T16:00:00.000Z" itemprop="datePublished">2016-01-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>###TCP/IPÁΩëÁªúÂÆâÂÖ®<br>TCP/IPÁõ∏ÂÖ≥ÁöÑÂÆâÂÖ®Ë¶ÅÁ¥†Â¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fidg13uz9ij30qm0ks77x.jpg" alt=""></p>
<h4 id="Èò≤ÁÅ´Â¢ô"><a href="#Èò≤ÁÅ´Â¢ô" class="headerlink" title="Èò≤ÁÅ´Â¢ô"></a>Èò≤ÁÅ´Â¢ô</h4><p>ÁªÑÁªáÊú∫ÊûÑÂÜÖÈÉ®ÁöÑÁΩëÁªú‰∏é‰∫íËÅîÁΩëÁõ∏ËøûÊó∂, ‰∏∫‰∫ÜÈÅøÂÖçÂÜÖÈÉ®ÁΩëÁªúÂèóÂà∞ÈùûÊ≥ïËÆøÈóÆÁöÑÂ®ÅËÉÅ, ‰ºöËÆæÁΩÆÈò≤ÁÅ´Â¢ô„ÄÇ</p>
<blockquote>
<p>‰ΩøÁî®NATÁöÑÊÉÖÂÜµ‰∏ã, Áî±‰∫éÈôêÂÆö‰∫ÜÂèØ‰ª•‰ªéÂ§ñÈÉ®ËÆøÈóÆÁöÑÂú∞ÂùÄ, Âõ†Ê≠§‰πüËÉΩËµ∑Âà∞Èò≤ÁÅ´Â¢ôÁöÑ‰ΩúÁî®„ÄÇ</p>
</blockquote>
<p>Èò≤ÁÅ´Â¢ôÊúâÂ§öÁßçÁßçÁ±ªÂíåÂΩ¢ÊÄÅ, ‰∏ìÈó®ËøáÊª§ÁâπÂÆöÊï∞ÊçÆÂåÖÁöÑ<strong>ÂåÖËøáÊª§Èò≤ÁÅ´Â¢ô</strong>, Êï∞ÊçÆÂà∞ËææÂ∫îÁî®‰ª•ÂêéÁî±Â∫îÁî®Â§ÑÁêÜÂπ∂ÊãíÁªùÈùûÊ≥ïËÆøÈóÆÁöÑÂ∫îÁî®ÁΩëÂÖ≥„ÄÇÈò≤ÁÅ´Â¢ôÂèØ‰ª•ÈôêÂà∂‰ªé‰∫íËÅîÁΩëËÆøÈóÆÁöÑ‰∏ªÊú∫‰∏™Êï∞; Â∞ÜÂÆâÂÖ®ÁöÑ‰∏ªÊú∫ÂíåÂèØ‰ª•Êö¥Èú≤ÁöÑ‰∏ªÊú∫Âä†‰ª•Âå∫ÂàÜ, ÈíàÂØπÂêéËÄÖÈõÜ‰∏≠ÂÆûÊñΩÂÆâÂÖ®Èò≤Êä§„ÄÇ</p>
<p>‰∏ãÂõæ‰∏≠, ÂØπË∑ØÁî±Âô®ËÆæÁΩÆ‰∫ÜÂè™ÂêëÂÖ∂ÂèëÈÄÅÁâπÂÆöÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑ÁöÑÂåÖ, ‰πüÂ∞±ÊòØËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™ÂåÖËøáÊª§Èò≤ÁÅ´Â¢ô„ÄÇ<br>ÂΩì‰ªéÂ§ñÈÉ®ËøáÊù•TCPÈÄö‰ø°ËØ∑Ê±ÇÊó∂, Âè™ÂÖÅËÆ∏ÂØπWebÊúçÂä°Âô®ÁöÑTCP 80Á´ØÂè£ÂíåÈÇÆ‰ª∂ÊúçÂä°Âô®ÁöÑTCP 25Á´ØÂè£ËÆøÈóÆ„ÄÇÂÖ∂‰ªñÊâÄÊúâÁ±ªÂûãÁöÑÂåÖÈÉΩ‰ºöË¢´‰∏¢ÂºÉ„ÄÇ<br>Ê≠§Â§ñ, Âª∫Á´ãTCPËøûÊé•ÁöÑËØ∑Ê±ÇÂè™ÂÖÅËÆ∏‰ªéÂÜÖÁΩëÂèëËµ∑, ‰∏çËÉΩ‰ªéÂ§ñÁΩëÁõ¥Êé•ËøûÊé•ÂÜÖÁΩë„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fidghahbcdj30qq0c6n0x.jpg" alt=""></p>
<h4 id="IDS-ÂÖ•‰æµÊ£ÄÊµãÁ≥ªÁªü"><a href="#IDS-ÂÖ•‰æµÊ£ÄÊµãÁ≥ªÁªü" class="headerlink" title="IDS(ÂÖ•‰æµÊ£ÄÊµãÁ≥ªÁªü)"></a>IDS(ÂÖ•‰æµÊ£ÄÊµãÁ≥ªÁªü)</h4><p>IDSÊ£ÄÊµãÂ∑≤Áªè‰æµÂÖ•ÂÜÖÈÉ®ÁΩëÁªúËøõË°åÈùûÊ≥ïËÆøÈóÆÁöÑÊÉÖÂÜµ, Âπ∂ÂèäÊó∂ÈÄöÁü•ÁªôÁΩëÁªúÁÆ°ÁêÜÂëòÁöÑÁ≥ªÁªü„ÄÇ<br>IDSÊ†πÊçÆ‰∏çÂêåÁöÑÁî®ÈÄîÂèØ‰ª•Êèê‰æõÂêÑÁßç‰∏çÂêåÁöÑÂäüËÉΩ„ÄÇ‰ªéËÆæÁΩÆÂΩ¢Âºè‰∏äÁúã, ‰∏ÄËà¨Âú®Èò≤ÁÅ´Â¢ôÊàñDMSÁ≠âËæπÁïåËÆæÂ§á‰∏äËøõË°åËÆæÁΩÆ„ÄÇÊúâ‰∫ÜËøôÊ†∑ÁöÑÁõëÊéß„ÄÅÊ£ÄÊµãËæπÁïåÁöÑÂäüËÉΩ, Â∞±ÂèØ‰ª•ËÆæÁΩÆÂú®ÁΩëÁªúÂÜÖÈÉ®„ÄÅÂÖ®ÁΩëÊàñ‰∏™Âà´ÁâπÊÆäÁöÑÊúçÂä°Âô®‰∏äËøõË°åÁõëÊéß„ÄÇ<br>‰ªéÂäüËÉΩ‰∏äÁúã, IDSÊúâÂÆöÊúüÈááÈõÜÊó•Âøó„ÄÅÈïøÊúüÁõëÊéß„ÄÅÈÄöÁü•ÂºÇÂ∏∏Á≠âÂäüËÉΩ„ÄÇÂèØ‰ª•ÁõëÊéßÁΩëÁªú‰∏äÊµÅÂä®ÁöÑÊâÄÊúâÊï∞ÊçÆÂåÖ, ‰∏éÈò≤ÁÅ´Â¢ôÁõ∏ËæÖÁõ∏Êàê„ÄÇ</p>
<blockquote>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fidgosnrmfj30qk09mjty.jpg" alt=""></p>
</blockquote>
<h4 id="Âä†ÂØÜÊäÄÊúØ"><a href="#Âä†ÂØÜÊäÄÊúØ" class="headerlink" title="Âä†ÂØÜÊäÄÊúØ"></a>Âä†ÂØÜÊäÄÊúØ</h4><p>Âä†ÂØÜÊåáÁöÑÊòØÂà©Áî®ÂØÜÈí•ÂØπÊòéÊñáÁöÑÊï∞ÊçÆÈÄöËøá‰∏ÄÂÆöÁöÑÁÆóÊ≥ïÂèòÊç¢ÊàêÂØÜÊñáÁöÑËøáÁ®ã, ÈÄÜÂèçËøáÁ®ãÂè´Ëß£ÂØÜ„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fidgut9bw0j30mo09mab5.jpg" alt=""></p>
<p>Âä†ÂØÜÂíåËß£ÂØÜ‰ΩøÁî®Áõ∏ÂêåÁöÑÂØÜÈí•Âè´ÂÅöÂØπÁß∞Âä†ÂØÜÊñπÂºè, Âä†ÂØÜÂíåËß£ÂØÜÁöÑËøáÁ®ã‰∏≠‰ΩøÁî®‰∏çÂêåÁöÑÂØÜÈí•Âè´ÂÅöÈùûÂØπÁß∞Âä†ÂØÜ„ÄÇ</p>
<h5 id="ÂØπÁß∞Âä†ÂØÜ"><a href="#ÂØπÁß∞Âä†ÂØÜ" class="headerlink" title="ÂØπÁß∞Âä†ÂØÜ"></a>ÂØπÁß∞Âä†ÂØÜ</h5><p>ÂØπÁß∞Âä†ÂØÜÊñπÂºèÂåÖÊã¨AES„ÄÅDESÁ≠âÂä†ÂØÜÊ†áÂáÜ, ÂØπÁß∞Âä†ÂØÜÁöÑ‰ºòÁÇπÂú®‰∫éÂä†Ëß£ÂØÜÁöÑÊïàÁéáÊØîËæÉÈ´ò, Áº∫ÁÇπÂú®‰∫éÂ¶Ç‰Ωï‰øùËØÅÂØÜÈí•ÊòØÂÆâÂÖ®ÁöÑ„ÄÇ<br><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fidi40bqysj30lk06cwf8.jpg" alt=""></p>
<h5 id="ÈùûÂØπÁß∞Âä†ÂØÜ"><a href="#ÈùûÂØπÁß∞Âä†ÂØÜ" class="headerlink" title="ÈùûÂØπÁß∞Âä†ÂØÜ"></a>ÈùûÂØπÁß∞Âä†ÂØÜ</h5><p>ÈùûÂØπÁß∞Âä†ÂØÜ‰∏≠, Âà©Áî®ÂÖ¨Èí•(ÂÖ¨ÂºÄÁöÑÂØÜÈí•)Âä†ÂØÜÁöÑÊï∞ÊçÆÂè™ËÉΩÈÄöËøáÁßÅÈí•Ëß£ÂØÜ, ‰ΩøÁî®ÁßÅÈí•Âä†ÂØÜÁöÑÊï∞ÊçÆÂ∞±ÈúÄË¶ÅÂÖ¨Èí•ËøõË°åËß£ÂØÜ„ÄÇÂÖ¨Èí•Âä†ÂØÜÊñπÊ≥ï‰∏≠Â∏∏ËßÅÁöÑÂä†ÂØÜÁÆóÊ≥ïÊòØRSAÁÆóÊ≥ï„ÄÇ<br><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fidi8rdatnj30r20840ud.jpg" alt=""></p>
<h4 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h4><p>HTTPSÂÖ∂ÂÆûÂ∞±ÊòØÂÆâÂÖ®ÁöÑHTTP, ‰πüÂ∞±ÊòØHTTPÁöÑÂÆâÂÖ®ÂçáÁ∫ßÁâàÊú¨, HTTPÂ±û‰∫éÂ∫îÁî®Â±ÇÁöÑÂçèËÆÆ, HTTPÂçèËÆÆ‰πã‰∏ãÊòØ‰º†ËæìÂçèËÆÆTCP, HTTPSÂ∞±ÊòØÂú®HTTP‰∏éTCP‰∏≠Èó¥Âä†Â§ö‰∫Ü‰∏ÄÂ±ÇÂä†ÂØÜÂ±ÇTLS/SSL„ÄÇ</p>
<h5 id="TLS-SSL"><a href="#TLS-SSL" class="headerlink" title="TLS/SSL"></a>TLS/SSL</h5><p>SSL/TLSÂçèËÆÆÁöÑÂü∫Êú¨ÊÄùË∑ØÊòØÂÆ¢Êà∑Á´ØÂÖàÂêëÊúçÂä°Âô®Á´ØÁ¥¢Ë¶ÅÂÖ¨Èí•ÔºåÁÑ∂ÂêéÁî®ÂÖ¨Èí•Âä†ÂØÜ‰ø°ÊÅØÔºåÊúçÂä°Âô®Êî∂Âà∞ÂØÜÊñáÂêéÔºåÁî®Ëá™Â∑±ÁöÑÁßÅÈí•Ëß£ÂØÜ„ÄÇÈÄö‰øóÁöÑËÆ≤, SSLÊòØÁî®Êù•Âä†ÂØÜÁöÑ, TLSÊòØSSLÁöÑÂçáÁ∫ßÁâàÊú¨„ÄÇ<a href="http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html" target="_blank" rel="external">TLS/SSLÂçèËÆÆËøêË°åÊú∫Âà∂</a></p>
<p>HTTP‰∏≠Â∫îÁî®Â±ÇÁõ¥Êé•Â∞ÜÊï∞ÊçÆ‰º†ËæìÁªôTCP, Âú®HTTPS‰∏≠Â∫îÁî®Â±ÇÂ∞ÜÊï∞ÊçÆ‰º†ËæìÁªôTLS/SSLÂä†ÂØÜÂêé, Âú®‰º†ËæìÁªôTCPËøõË°å‰º†Ëæì„ÄÇ</p>
<h5 id="HTTPSÂä†ÂØÜÈÄö‰ø°ÁÆÄÁï•ÊµÅÁ®ã"><a href="#HTTPSÂä†ÂØÜÈÄö‰ø°ÁÆÄÁï•ÊµÅÁ®ã" class="headerlink" title="HTTPSÂä†ÂØÜÈÄö‰ø°ÁÆÄÁï•ÊµÅÁ®ã"></a>HTTPSÂä†ÂØÜÈÄö‰ø°ÁÆÄÁï•ÊµÅÁ®ã</h5><p>HTTPS‰∏≠ÈááÁî®ÂØπÁß∞Âä†ÂØÜÊñπÂºè, Âú®ÂèëÈÄÅÂÖ∂ÂÖ¨ÂÖ±ÂØÜÈí•Êó∂ÈááÁî®ÁöÑÊòØÂÖ¨Èí•Âä†ÂØÜÊñπÂºè„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fidk73ex94j30q40iu784.jpg" alt=""></p>
<ul>
<li>1.ÊµèËßàÂô®ËÆøÈóÆÁΩëÁ´ô, ÁΩëÁ´ôÂ∞ÜËá™Â∑±ÁöÑËØÅ‰π¶ÁªôÂà∞ÊµèËßàÂô®</li>
<li>2.ÊµèËßàÂô®‰ªéËØÅ‰π¶‰∏≠Ëé∑ÂèñÁΩëÁ´ôÁöÑÂÖ¨Èí•A</li>
<li>3.ÊµèËßàÂô®ÁîüÊàê‰∏Ä‰∏™ÂØπÁß∞ÂØÜÈí•B, Âπ∂Áî®ÂÖ¨Èí•AÂä†ÂØÜÂêé, ‰º†ÈÄÅÁªôÁΩëÁ´ô</li>
<li>4.ÁΩëÁ´ôÈÄöËøáÁßÅÈí•Ëß£ÂØÜ, ÊãøÂà∞ÂØπÁß∞ÂØÜÈí•B</li>
<li>5.‰πãÂêéÈÄö‰ø°ÁöÑÊï∞ÊçÆ, ÈÉΩ‰ΩøÁî®ÂØÜÈí•BËøõË°åÂä†ÂØÜ</li>
</ul>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fidjjx7lfjj30p20smmz8.jpg" alt=""></p>
<h5 id="Ëæ®Âà´‰º™ÈÄ†ÁöÑËØÅ‰π¶"><a href="#Ëæ®Âà´‰º™ÈÄ†ÁöÑËØÅ‰π¶" class="headerlink" title="Ëæ®Âà´‰º™ÈÄ†ÁöÑËØÅ‰π¶"></a>Ëæ®Âà´‰º™ÈÄ†ÁöÑËØÅ‰π¶</h5><ul>
<li><p>ÂÆåÂÖ®‰º™ÈÄ†ÁöÑËØÅ‰π¶ ‚Äì ÂØπËØÅ‰π¶ËøõË°åÊ£ÄÊü•<br>1.ËØÅ‰π¶È¢ÅÂèëÁöÑÊú∫ÊûÑÊòØ‰º™ÈÄ†ÁöÑ, ÊµèËßàÂô®‰∏çËÆ§ËØÜ, Áõ¥Êé•ËÆ§‰∏∫ÊòØÂç±Èô©ËØÅ‰π¶<br>2.ËØÅ‰π¶È¢ÅÂèëÊú∫ÊûÑÁ°ÆÂÆûÂ≠òÂú®, Ê†πÊçÆCAÂêç, ÊâæÂà∞ÂÜÖÁΩÆÁöÑCAÊ†πËØÅ‰π¶„ÄÅCAÁöÑÂÖ¨Èí•, Âà©Áî®ÂÖ¨Èí•ÂØπ‰º™ÈÄ†ÁöÑËØÅ‰π¶ÊëòË¶ÅËøõË°åËß£ÂØÜ, Â¶ÇÊûúËß£ÂØÜÂ§±Ë¥•, ÂàôËÆ§‰∏∫ÊòØÂç±Èô©ËØÅ‰π¶„ÄÇ</p>
</li>
<li><p>ÁØ°ÊîπËøáÁöÑËØÅ‰π¶ ‚Äì ÂÅáËÆæ‰ª£ÁêÜÈÄöËøáÊüêÁßçÈÄîÂæÑ, ÊãøÂà∞XXÁöÑËØÅ‰π¶, ÁÑ∂ÂêéÂ∞ÜËØÅ‰π¶ÁöÑÂÖ¨Èí•ÂÅ∑ÂÅ∑‰øÆÊîπÊàêËá™Â∑±ÁöÑ„ÄÇ<br>1.Ê£ÄÊü•ËØÅ‰π¶, Ê†πÊçÆCAÂêç, ÊâæÂà∞ÂØπÂ∫îÁöÑCAÊ†πËØÅ‰π¶, ‰ª•ÂèäCAÁöÑÂÖ¨Èí•<br>2.Áî®CAÁöÑÂÖ¨Èí•, ÂØπËØÅ‰π¶ÁöÑÊï∞Â≠óÁ≠æÂêçËøõË°åËß£ÂØÜ, ÂæóÂà∞ÂØπÂ∫îÁöÑËØÅ‰π¶ÊëòË¶ÅAA<br>3.Ê†πÊçÆËØÅ‰π¶Á≠æÂêç‰ΩøÁî®ÁöÑhashÁÆóÊ≥ï, ËÆ°ÁÆóÂá∫ÂΩìÂâçËØÅ‰π¶ÁöÑÊëòË¶ÅBB<br>4.ÂØπÊØî‰∏§‰∏™ÊëòË¶Å, ÂèëÁé∞‰∏ç‰∏ÄËá¥, Âàô‰∏∫Âç±Èô©ÁöÑËØÅ‰π¶            </p>
<p><a href="http://www.cnblogs.com/hyddd/archive/2009/01/07/1371292.html" target="_blank" rel="external">ÊµÖÊûêÊï∞Â≠óËØÅ‰π¶</a></p>
</li>
</ul>
<p>ÂèÇËÄÉ:</p>
<ul>
<li><a href="">ÂõæËß£TCP/IP</a></li>
<li><a href="http://www.jianshu.com/nb/3276500" target="_blank" rel="external">http://www.jianshu.com/nb/3276500</a></li>
<li><a href="https://segmentfault.com/a/1190000004523659#articleHeader3" target="_blank" rel="external">HTTPÁßëÊôÆÊâ´Áõ≤Ë¥¥</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÁΩëÁªú/">ÁΩëÁªú</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="[post]-TCP:UDP"  class="article article-type-[post]" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/01/01/TCP:UDP/">TCP/UDP(‰∫î)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/01/01/TCP:UDP/" class="article-date">
	  <time datetime="2015-12-31T16:00:00.000Z" itemprop="datePublished">2016-01-01</time>
	</a>

      
    <a class="article-category-link" href="/categories/iOS/">iOS</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="TCP-UDP"><a href="#TCP-UDP" class="headerlink" title="TCP/UDP"></a>TCP/UDP</h3><p>TCP‰∏éUDPÊòØ‰º†ËæìÂ±ÇÁöÑ‰∏§‰∏™‰∏ªË¶ÅÂçèËÆÆ„ÄÇTCPÊèê‰æõÂèØÈù†ÁöÑÈÄö‰ø°ÁöÑ‰º†Ëæì, ËÄåUDPÈù¢ÂêëÊó†ËøûÊé•ÁöÑ‰∏çÂèØÈù†ÁöÑÈÄö‰ø°‰º†Ëæì„ÄÇ</p>
<p>ÁΩëÁªúÂ±Ç‰∏≠ÁöÑIPÈ¶ñÈÉ®‰∏≠Êúâ‰∏Ä‰∏™ÂçèËÆÆÁöÑÂ≠óÊÆµ, Áî®Êù•Ê†áËØÜÁΩëÁªúÂ±ÇÁöÑ‰∏ä‰∏ÄÂ±ÇÈááÁî®ÁöÑÊòØÂì™‰∏ÄÁßç‰º†ËæìÂ±ÇÁöÑÂçèËÆÆ„ÄÇÊ†πÊçÆËøô‰∏™Â≠óÊÆµÁöÑÂçèËÆÆÂè∑, Â∞±ÂèØ‰ª•ËØÜÂà´IP‰º†ËæìÁöÑ<strong>Êï∞ÊçÆÈÉ®ÂàÜ</strong>ÊòØTCPÁöÑÂÜÖÂÆπ, ËøòÊòØUDPÁöÑÂÜÖÂÆπ„ÄÇÂêåÁêÜ,‰º†ËæìÂ±Ç‰ΩøÁî®Á´ØÂè£Âè∑ËØÜÂà´Âú®‰º†ËæìÂ±ÇÁöÑ‰∏ä‰∏ÄÂ±Ç(Â∫îÁî®Â±Ç)‰∏≠Ë¶ÅËøõË°åÂ§ÑÁêÜÁöÑÁ®ãÂ∫è„ÄÇ</p>
<h4 id="Á´ØÂè£Âè∑"><a href="#Á´ØÂè£Âè∑" class="headerlink" title="Á´ØÂè£Âè∑"></a>Á´ØÂè£Âè∑</h4><p>Êï∞ÊçÆÈìæË∑ØÂíåIPÂú∞ÂùÄ, ÂàÜÂà´ÂØπÂ∫îMACÂú∞ÂùÄÂíåIPÂú∞ÂùÄ„ÄÇÂâçËÄÖÁî®Êù•ËØÜÂà´Âêå‰∏ÄÈìæË∑Ø‰∏≠‰∏çÂêåÁöÑËÆ°ÁÆóÊú∫, ÂêéËÄÖÁî®Êù•ËØÜÂà´TCP/IPÁΩëÁªú‰∏≠‰∫íËøûÁöÑ‰∏ªÊú∫ÂíåË∑ØÁî±Âô®„ÄÇÂú®‰º†ËæìÂ±Ç‰∏≠‰πüÊúâÁ±ª‰ººÁöÑÂú∞ÂùÄÊ¶ÇÂøµ, ÈÇ£Â∞±ÊòØÁ´ØÂè£Âè∑„ÄÇÁ´ØÂè£Âè∑Áî®Êù•ËØÜÂà´Âêå‰∏ÄÂè∞ËÆ°ÁÆóÊú∫‰∏≠ËøõË°åÈÄö‰ø°ÁöÑ‰∏çÂêåÂ∫îÁî®Á®ãÂ∫è, ‰πüÂè´ÂÅöÁ®ãÂ∫èÂú∞ÂùÄ„ÄÇ</p>
<h5 id="ÈÄö‰ø°ËØÜÂà´"><a href="#ÈÄö‰ø°ËØÜÂà´" class="headerlink" title="ÈÄö‰ø°ËØÜÂà´"></a>ÈÄö‰ø°ËØÜÂà´</h5><p>‰ªÖ‰ªÖÂá≠ÁõÆÊ†áÁ´ØÂè£ËØÜÂà´Êüê‰∏Ä‰∏™ÈÄö‰ø°ÊòØËøúËøú‰∏çÂ§üÁöÑ„ÄÇÂ¶Ç‰∏ãÂõæ: 1Âíå2ÁöÑÈÄö‰ø°ÊòØÂú®‰∏§Âè∞ËÆ°ÁÆóÊú∫‰∏äËøõË°åÁöÑ„ÄÇ‰ªñ‰ª¨ÁöÑÁõÆÊ†áÁ´ØÂè£Âè∑ÈÉΩÊòØ80, ÈúÄË¶ÅÊ†πÊçÆÊ∫êÁ´ØÂè£Âè∑ËøõË°åÂå∫ÂàÜ„ÄÇ3Âíå1ÁöÑÁõÆÊ†áÁ´ØÂè£Âè∑ÂíåÊ∫êÁ´ØÂè£Âè∑ÂÆåÂÖ®Áõ∏Âêå, ‰ΩÜÊòØ‰ªñ‰ª¨ÂêÑËá™ÁöÑÊ∫êIPÂú∞ÂùÄ‰∏çÂêå„ÄÇÂè¶Â§ñÂçèËÆÆÂè∑‰∏çÂêå, ‰πü‰ºöË¢´ËÆ§‰∏∫ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÈÄö‰ø°„ÄÇ</p>
<p>Áªº‰∏ä, TCP/IPÊàñUDP/IPÈÄö‰ø°‰∏≠ÈÄöÂ∏∏ÈááÁî®5‰∏™‰ø°ÊÅØÊù•ËØÜÂà´‰∏Ä‰∏™ÈÄö‰ø°„ÄÇÂàÜÂà´ÊòØ: <strong>Ê∫êIPÂú∞ÂùÄ</strong>„ÄÅ<strong>ÁõÆÊ†áIPÂú∞ÂùÄ</strong>„ÄÅ<strong>ÂçèËÆÆÂè∑</strong>„ÄÅ<strong>Ê∫êÁ´ØÂè£Âè∑</strong>„ÄÅ<strong>ÁõÆÊ†áÁ´ØÂè£Âè∑</strong>„ÄÇÂè™Êúâ5‰∏™‰ø°ÊÅØ‰∏ÄËá¥, ÊâçËÆ§‰∏∫ÊòØÂêå‰∏Ä‰∏™ÈÄö‰ø°„ÄÇ<br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fic9us8bqbj30pq0l4tf1.jpg" alt=""></p>
<h5 id="Á´ØÂè£Âè∑ÁöÑÁ°ÆÂÆö"><a href="#Á´ØÂè£Âè∑ÁöÑÁ°ÆÂÆö" class="headerlink" title="Á´ØÂè£Âè∑ÁöÑÁ°ÆÂÆö"></a>Á´ØÂè£Âè∑ÁöÑÁ°ÆÂÆö</h5><ul>
<li>Ê†áÂáÜÊó¢ÂÆöÁöÑÁ´ØÂè£Âè∑<br>ËøôÁßçÊñπÊ≥ï‰πüÂè´<strong>ÈùôÊÄÅÊñπÊ≥ï</strong>, ÊåáÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÈÉΩÊúâÂÖ∂ÊåáÂÆöÁöÑÁ´ØÂè£Âè∑„ÄÇÁü•ÂêçÁ´ØÂè£Âè∑‰∏ÄËà¨Áî±0~1023ÁöÑÊï∞Â≠óÂàÜÈÖçËÄåÊàê, Â∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÈÅøÂÖç‰ΩøÁî®Áü•ÂêçÁ´ØÂè£Âè∑, ÂèØ‰ª•‰ΩøÁî®1024~49151‰πãÈó¥ÁöÑÊï∞Â≠ó‰Ωú‰∏∫Ëá™ÂÆö‰πâÁ´ØÂè£Âè∑„ÄÇ</li>
<li>Êó∂Â∫èÂàÜÈÖçÊ≥ï<br>ËøôÁßçÊñπÊ≥ï‰πüÂè´<strong>Âä®ÊÄÅÊñπÊ≥ï</strong>, Ê≠§Êó∂ÊúçÂä°Á´ØÊúâÂøÖË¶ÅÁ°ÆÂÆöÁõëÂê¨Á´ØÂè£Âè∑, ‰ΩÜÊòØÊé•ÂèóÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÊ≤°ÂøÖË¶ÅÁ°ÆÂÆöÁ´ØÂè£Âè∑„ÄÇ<br>ÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫èÂÆåÂÖ®‰∏çÁî®Ëá™Â∑±ËÆæÁΩÆÁ´ØÂè£Âè∑, <strong>ÂÖ®ÊùÉ‰∫§ÁªôÊìç‰ΩúÁ≥ªÁªüËøõË°åÂàÜÈÖç</strong>„ÄÇÊìç‰ΩúÁ≥ªÁªüÂèØ‰ª•‰∏∫ÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÂàÜÈÖç‰∫í‰∏çÂÜ≤Á™ÅÁöÑÁ´ØÂè£Âè∑„ÄÇ‰æãÂ¶Ç, ÊØèÈúÄË¶Å‰∏Ä‰∏™Êñ∞ÁöÑÁ´ØÂè£Âè∑, Â∞±Âú®‰πãÂâçÂàÜÈÖçÂè∑Á†ÅÁöÑÂü∫Á°Ä‰∏äÂä†1„ÄÇÂä®ÊÄÅÂàÜÈÖçÁöÑÁ´ØÂè£Âè∑ÁöÑÂèñÂÄºËåÉÂõ¥Âú®49152~65535‰πãÈó¥„ÄÇ</li>
</ul>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><p>UDP‰∏çÊèê‰æõÂ§çÊùÇÁöÑÊéßÂà∂Êú∫Âà∂, Âà©Áî®IPÊèê‰æõÈù¢ÂêëÊó†ËøûÊé•ÁöÑÈÄö‰ø°ÊúçÂä°„ÄÇÂõ†Ê≠§UDP‰∏çÊ£ÄÊü•ÂØπÁ´ØÊòØÂê¶ÂèØ‰ª•ÈÄö‰ø°, Áõ¥Êé•Â∞ÜUDPÂåÖÂèëÈÄÅÂá∫Âéª„ÄÇ<br>Âç≥‰ΩøÊòØÂá∫Áé∞ÁΩëÁªúÊã•Â†µÁöÑÊÉÖÂÜµ‰∏ã, UDP‰πüÊó†Ê≥ïËøõË°åÊµÅÈáèÊéßÂà∂Á≠âÈÅøÂÖçÁΩëÁªúÊã•Â°ûÁöÑË°å‰∏∫„ÄÇÊ≠§Â§ñ, ‰º†ËæìÈÄî‰∏≠Âá∫Áé∞‰∏¢ÂåÖ, UDP‰πü‰∏çË¥üË¥£ÈáçÂèëÁ≠â„ÄÇUDPÂ∏∏Áî®‰∫é‰∏Ä‰∏ãÂá†‰∏™ÊñπÈù¢:</p>
<ul>
<li>ÂåÖÊÄªÈáèËæÉÂ∞ëÁöÑÈÄö‰ø°(DNS„ÄÅSNMPÁ≠â)</li>
<li>ËßÜÈ¢ë„ÄÅÈü≥È¢ëÁ≠âÂ§öÂ™í‰ΩìÈÄö‰ø°</li>
<li>ÈôêÂÆö‰∫éLANÁ≠âÁâπÂÆöÁΩëÁªú‰∏≠ÁöÑÂ∫îÁî®ÈÄö‰ø°</li>
<li>ÂπøÊí≠/Â§öÊí≠ÈÄö‰ø°</li>
</ul>
<h5 id="UDPÈ¶ñÈÉ®"><a href="#UDPÈ¶ñÈÉ®" class="headerlink" title="UDPÈ¶ñÈÉ®"></a>UDPÈ¶ñÈÉ®</h5><p>UDPÈ¶ñÈÉ®Áî±Ê∫êÁ´ØÂè£Âè∑, ÁõÆÊ†áÁ´ØÂè£Âè∑, ÂåÖÈïøÂíåÊ†°È™åÂíåÁªÑÊàê„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1ficeugx7idj30oi0a6jue.jpg" alt=""></p>
<ul>
<li>Ê∫êÁ´ØÂè£Âè∑: Ë°®Á§∫ÂèëÈÄÅÁ´ØÂè£Âè∑</li>
<li>ÁõÆÊ†áÁ´ØÂè£Âè∑: Êé•Êî∂Á´ØÁ´ØÂè£Âè∑</li>
<li>ÂåÖÈïøÂ∫¶: ‰øùÂ≠òUDPsÈ¶ñÈÉ®ÂíåÊï∞ÊçÆÈïøÂ∫¶‰πãÂíå</li>
<li>Ê†°È™åÂíå: Ê†°È™åÂíåÁî®Êù•Âà§Êñ≠Êï∞ÊçÆÂú®‰º†ËæìËøáÁ®ã‰∏≠ÊòØÂê¶ÊçüÂùè </li>
</ul>
<blockquote>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficezxbfsxj30r40j479a.jpg" alt=""></p>
</blockquote>
<h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><p>TCPÂØπÊï∞ÊçÆÁöÑ‰º†Ëæì„ÄÅÂèëÈÄÅ„ÄÅÈÄö‰ø°ÈÉΩËøõË°å‰∫ÜÊéßÂà∂ÁöÑÂçèËÆÆ„ÄÇÂèØ‰ª•ËøõË°å‰∏¢ÂåÖÊó∂ÁöÑÈáçÂèëÊéßÂà∂, ÂèØ‰ª•ÂØπÊ¨°Â∫è‰π±ÊéâÁöÑÂàÜÂåÖËøõË°åÈ°∫Â∫èÊéßÂà∂, Âè™ÊúâÂú®Á°ÆËÆ§ÈÄö‰ø°ÂØπÁ´ØÂ≠òÂú®Êó∂Êâç‰ºöÂèëÈÄÅÊï∞ÊçÆ, ‰ªéËÄåÂèØ‰ª•ÊéßÂà∂ÈÄö‰ø°ÊµÅÈáèÁöÑÊµ™Ë¥π„ÄÇ<strong>TCPÈÄöËøáÊ£ÄÈ™åÂíå„ÄÅÂ∫èÂàóÂè∑„ÄÅÁ°ÆËÆ§Â∫îÁ≠î„ÄÅÈáçÂèëÊéßÂà∂„ÄÅËøûÊé•ÁÆ°ÁêÜ‰ª•ÂèäÁ™óÂè£ÊéßÂà∂Á≠âÊú∫Âà∂ÂÆûÁé∞ÂèØÈù†ÊÄß‰º†Ëæì</strong>„ÄÇ</p>
<h5 id="TCPÈ¶ñÈÉ®"><a href="#TCPÈ¶ñÈÉ®" class="headerlink" title="TCPÈ¶ñÈÉ®"></a>TCPÈ¶ñÈÉ®</h5><p>TCPÊ≤°ÊúâÂåÖÈïøÂ∫¶ÂíåÊï∞ÊçÆÈïøÂ∫¶, ÂèØÁî±IPÂ±ÇËé∑Áü•TCPÁöÑÂåÖÈïøÂ∫¶, Áî±ÂåÖÈïøÂèØÁü•Êï∞ÊçÆÁöÑÈïøÂ∫¶„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficf0umzwjj30o60hkwia.jpg" alt=""></p>
<ul>
<li>Á´ØÂè£Âè∑: ÂèëÈÄÅÁ´ØÁ´ØÂè£Âè∑</li>
<li>ÁõÆÊ†áÁ´ØÂè£Âè∑: Êé•Êî∂Á´ØÁ´ØÂè£Âè∑</li>
<li>Â∫èÂàóÂè∑: ÂèëÈÄÅÊï∞ÊçÆÁöÑ‰ΩçÁΩÆ</li>
<li>Á°ÆËÆ§Â∫îÁ≠îÂè∑: ‰∏ã‰∏ÄÊ¨°Â∫îËØ•Êî∂Âà∞ÁöÑÊï∞ÊçÆÁöÑÂ∫èÂàóÂè∑</li>
<li>Êï∞ÊçÆÂÅèÁßª: Ë°®Á§∫TCP‰º†ËæìÁöÑÊï∞ÊçÆÈÉ®ÂàÜ‰ªéÂåÖÁöÑÂì™‰∏™‰ΩçÁΩÆÂºÄÂßãËÆ°ÁÆó</li>
<li>‰øùÁïô: ‰∏∫‰ª•ÂêéÊâ©Â±ï‰ΩøÁî®</li>
<li>ÊéßÂà∂‰Ωç: ÊéßÂà∂ÂêÑÁßçÁä∂ÊÄÅ</li>
<li>Á™óÂè£Â§ßÂ∞è: ËÉΩÂ§üÊé•Êî∂ÁöÑÊï∞ÊçÆÂ§ßÂ∞è</li>
<li>Ê†°È™åÂíå: ‰∏éUDPÁõ∏‰ºº </li>
</ul>
<blockquote>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1ficf8k5zw1j30r80fuaej.jpg" alt=""></p>
</blockquote>
<ul>
<li>Á¥ßÊÄ•ÊåáÈíà: ‰∏éÁ¥ßÊÄ•Êï∞ÊçÆÁõ∏ÂÖ≥</li>
<li>ÈÄâÈ°π: Áî®‰∫éÊèêÈ´òTCP‰º†ËæìÊÄßËÉΩ, Â∞ÜÊï∞ÊçÆË∞ÉÊï¥‰∏∫32‰ΩçÁöÑÊï¥Êï∞ÂÄç</li>
</ul>
<h5 id="Â∫èÂàóÂè∑‰∏éÁ°ÆËÆ§Â∫îÁ≠î"><a href="#Â∫èÂàóÂè∑‰∏éÁ°ÆËÆ§Â∫îÁ≠î" class="headerlink" title="Â∫èÂàóÂè∑‰∏éÁ°ÆËÆ§Â∫îÁ≠î"></a>Â∫èÂàóÂè∑‰∏éÁ°ÆËÆ§Â∫îÁ≠î</h5><p>Âú®TCP‰∏≠, ÂΩìÂèëÈÄÅÁ´ØÁöÑÊï∞ÊçÆÂà∞ËææÊé•Êî∂Á´ØÊó∂, Êé•Êî∂Á´Ø‰∏ªÊú∫‰ºöËøîÂõû‰∏Ä‰∏™Â∑≤Êî∂Âà∞Ê∂àÊÅØÁöÑÈÄöÁü•, Ëøô‰∏™Ê∂àÊÅØÂè´ÂÅöÁ°ÆËÆ§Â∫îÁ≠î(ACK), Âê¶ÂÆöÁ°ÆËÆ§Â∫îÁ≠î(NACK)„ÄÇ<br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1ficbd4xq2fj30ey0hgabh.jpg" alt=""><br>TCPÈÄöËøáËÇØÂÆöÁöÑÁ°ÆËÆ§Â∫îÁ≠î(ACK)ÂÆûÁé∞ÂèØÈù†ÁöÑÊï∞ÊçÆ‰º†Ëæì„ÄÇÂΩìÂèëÈÄÅÁ´ØÂ∞ÜÊï∞ÊçÆÂèëÂá∫‰πãÂêé‰ºöÁ≠âÂæÖÂØπÁ´ØÁöÑÁ°ÆËÆ§Â∫îÁ≠î„ÄÇÂ¶ÇÊûúÊúâÁ°ÆËÆ§Â∫îÁ≠î, ËØ¥ÊòéÊï∞ÊçÆÂ∑≤ÁªèÊàêÂäüÂà∞ËææÂØπÁ´Ø„ÄÇÂèç‰πã, ÂàôÊï∞ÊçÆ‰∏¢Â§±ÁöÑÂèØËÉΩÊÄßÂæàÂ§ß„ÄÇ<br>Âú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÁ≠âÂà∞Á°ÆËÆ§Â∫îÁ≠î, ÂèëÈÄÅÁ´ØÂ∞±ÂèØ‰ª•ËÆ§‰∏∫Êï∞ÊçÆÂ∑≤Áªè‰∏¢Â§±, Âπ∂ËøõË°åÈáçÂèë„ÄÇÁî±Ê≠§, Âç≥‰Ωø‰∫ßÁîü‰∫Ü‰∏¢ÂåÖ, ‰ªçÁÑ∂ËÉΩÂ§ü‰øùËØÅÊï∞ÊçÆËÉΩÂ§üÂà∞ËææÂØπÁ´Ø, ÂÆûÁé∞ÂèØÈù†‰º†Ëæì„ÄÇ<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1ficbifcnspj30he0ii769.jpg" alt=""></p>
<p>Êú™Êî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂπ∂‰∏çÊÑèÂë≥ÁùÄÊï∞ÊçÆ‰∏ÄÂÆö‰∏¢Â§±„ÄÇ‰πüÂèØËÉΩÊòØÊï∞ÊçÆÂØπÊñπÂ∑≤ÁªèÊî∂Âà∞, Âè™ÊòØÁ°ÆËÆ§ËøîÂõûÁöÑÁ°ÆËÆ§Â∫îÁ≠îÂú®ÈÄî‰∏≠‰∏¢Â§±„ÄÇËøôÁßçÊÉÖÂÜµ‰πü‰ºöÂØºËá¥ÂèëÈÄÅÁ´ØÂõ†‰∏∫Ê≤°ÊúâÊî∂Âà∞Á°ÆËÆ§Â∫îÁ≠î, ‰ªéËÄåËøõË°åÈáçÂèëÊï∞ÊçÆ„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1ficbkhlhunj30h00kqtbh.jpg" alt=""></p>
<p>Ê≠§Â§ñ, ‰πüÊúâÂèØËÉΩÂõ†‰∏∫‰∏Ä‰∫õÂÖ∂‰ªñÂéüÂõ†ÂØºËá¥Á°ÆËÆ§Â∫îÁ≠îÂª∂ËøüÂà∞Ëææ, Âú®Ê∫ê‰∏ªÊú∫ÈáçÂèëÊï∞ÊçÆ‰ª•ÂêéÊâçÂà∞ËææÁöÑÊÉÖÂÜµ‰πüÁªèÂ∏∏ËßÅ„ÄÇÊ≠§Êó∂, Ê∫êÂèëÈÄÅ‰∏ªÊú∫Âè™Ë¶ÅÊåâÁÖßÊó¢ÂÆöÊú∫Âà∂ÈáçÂèëÊï∞ÊçÆÂç≥ÂèØ„ÄÇ‰ΩÜÊòØÂØπ‰∫éÁõÆÊ†á‰∏ªÊú∫Êù•ËØ¥, ÂÆÉ‰ºöÂèçÂ§çÊî∂Âà∞Áõ∏ÂêåÁöÑÊï∞ÊçÆ„ÄÇËÄå‰∏∫‰∫ÜÂØπ‰∏äÂ±ÇÂ∫îÁî®Êèê‰æõÂèØÈù†ÁöÑ‰º†Ëæì, ÂøÖÈ°ªÂæóÊîæÂºÉÈáçÂ§çÁöÑÊï∞ÊçÆÂåÖ„ÄÇÂõ†Ê≠§ÈúÄË¶ÅÂºïÂÖ•‰∏ÄÁßçÊú∫Âà∂, ËÉΩÂ§üËØÜÂà´ÊòØÂê¶Â∑≤ÁªèÊé•Êî∂Êï∞ÊçÆ, Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊé•Êî∂Êï∞ÊçÆÁ≠â„ÄÇ<br>Â∫èÂàóÂè∑ÂèØ‰ª•ÂÆûÁé∞Á°ÆËÆ§Â∫îÁ≠îÂ§ÑÁêÜ„ÄÅÈáçÂèëÊéßÂà∂‰ª•ÂèäÈáçÂ§çÊéßÂà∂Á≠âÂäüËÉΩ; Â∫èÂàóÂè∑ÊòØÊåâÈ°∫Â∫èÁªôÂèëÈÄÅÊï∞ÊçÆÁöÑÊØè‰∏Ä‰∏™Â≠óËäÇÈÉΩÊ†á‰∏äÂè∑Á†ÅÁöÑÁºñÂè∑„ÄÇ <strong>Êé•Êî∂Á´ØÊü•ËØ¢Êé•Êî∂Êï∞ÊçÆTCPÈ¶ñÈÉ®‰∏≠ÁöÑÂ∫èÂàóÂè∑ÂíåÊï∞ÊçÆÈïøÂ∫¶, Â∞ÜËá™Â∑±‰∏ã‰∏ÄÊ≠•Â∫îËØ•Êé•Êî∂ÁöÑÂ∫èÂè∑‰Ωú‰∏∫Á°ÆËÆ§Â∫îÁ≠îËøîÈÄÅÂõûÂéª</strong>„ÄÇÈÄöËøáÂ∫èÂàóÂè∑ÂíåÁ°ÆËÆ§Â∫îÁ≠îÂè∑, TCPÂèØ‰ª•ÂÆûÁé∞ÂèØÈù†ÁöÑ‰º†Ëæì„ÄÇ<br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1ficbtksijvj30r80sk43h.jpg" alt=""></p>
<h5 id="ËøûÊé•ÁÆ°ÁêÜ"><a href="#ËøûÊé•ÁÆ°ÁêÜ" class="headerlink" title="ËøûÊé•ÁÆ°ÁêÜ"></a>ËøûÊé•ÁÆ°ÁêÜ</h5><p>TCPÊèê‰æõÈù¢ÂêëÊúâËøûÊé•ÁöÑÈÄö‰ø°‰º†Ëæì„ÄÇÈù¢ÂêëÊúâËøûÊé•ÊòØÊåáÂú®Êï∞ÊçÆÈÄö‰ø°ÂºÄÂßã‰πãÂâçÂÖàÂÅöÂ•ΩÈÄö‰ø°‰∏§Á´Ø‰πãÈó¥ÁöÑÂáÜÂ§áÂ∑•‰Ωú„ÄÇTCP‰ºöÂú®Êï∞ÊçÆÈÄö‰ø°‰πãÂâç, ÈÄöËøáTCPÈ¶ñÈÉ®ÂèëÈÄÅ‰∏Ä‰∏™<strong>SYNÂåÖ</strong>‰Ωú‰∏∫Âª∫Á´ãËøûÊé•ÁöÑËØ∑Ê±ÇÁ≠âÂæÖÁ°ÆËÆ§Â∫îÁ≠î„ÄÇÂ¶ÇÊûúÂØπÁ´ØÂèëÊù•Á°ÆËÆ§Â∫îÁ≠î, ÂàôËÆ§‰∏∫ÂèØ‰ª•ËøõË°åÊï∞ÊçÆÈÄö‰ø°„ÄÇÂ¶ÇÊûúÂØπÁ´ØÁöÑÁ°ÆËÆ§Â∫îÁ≠îÊú™ËÉΩÂà∞Ëææ, Â∞±‰∏ç‰ºöËøõË°åÈÄö‰ø°„ÄÇÂú®ÈÄö‰ø°ÁªìÊùüÁöÑÊó∂ÂÄôÂõûËøõË°åÊñ≠ÂºÄËøûÊé•ÁöÑÂ§ÑÁêÜ(FINÂåÖ), ‰πüÂ∞±ÊòØÂèëÈÄÅ‰∏Ä‰∏™FINÂåÖ, Á°ÆËÆ§Êñ≠ÂºÄËøûÊé•„ÄÇ<br>Âª∫Á´ã‰∏Ä‰∏™TCPËøûÊé•ÈúÄË¶ÅÂèëÈÄÅ3‰∏™ÂåÖ, ‰πüÂè´ÂÅö‚Äù‰∏âÊ¨°Êè°Êâã‚Äù, Êñ≠ÂºÄTCPËøûÊé•ÈúÄË¶ÅÂèëÈÄÅ4‰∏™ÂåÖ, ‰πüÂè´‚ÄùÂõõÊ¨°Êå•Êâã‚Äù„ÄÇÊâÄ‰ª•‰∏Ä‰∏™ËøûÊé•ÁöÑÂª∫Á´ã‰∏éÊñ≠ÂºÄ,Ëá≥Â∞ëÈúÄË¶ÅÊù•ÂõûÂèëÈÄÅ7‰∏™ÂåÖÊâçËÉΩÂÆåÊàê„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1ficcefq92qj30eq0lydhu.jpg" alt=""></p>
<h5 id="TCP‰ª•ÊÆµ‰ΩçÂçï‰ΩçÂèëÈÄÅÊï∞ÊçÆ"><a href="#TCP‰ª•ÊÆµ‰ΩçÂçï‰ΩçÂèëÈÄÅÊï∞ÊçÆ" class="headerlink" title="TCP‰ª•ÊÆµ‰ΩçÂçï‰ΩçÂèëÈÄÅÊï∞ÊçÆ"></a>TCP‰ª•ÊÆµ‰ΩçÂçï‰ΩçÂèëÈÄÅÊï∞ÊçÆ</h5><p>Âú®Âª∫Á´ãTCPËøûÊé•ÁöÑÂêåÊó∂, ‰πüÂèØ‰ª•Á°ÆÂÆöÂèëÈÄÅÊï∞ÊçÆÂåÖÁöÑÂçï‰Ωç(ÊúÄÂ§ßÊ∂àÊÅØÈïøÂ∫¶:ÊÆµ :MSS,)„ÄÇMSSÊòØÂú®‰∏âÊ¨°Êè°ÊâãÁöÑÊó∂ÂÄô, Âú®‰∏§Á´Ø‰∏ªÊú∫‰πãÈó¥Ë¢´ËÆ°ÁÆóÂæóÂá∫„ÄÇ‰∏§Á´ØÁöÑ‰∏ªÊú∫Âú®ÂèëÂá∫Âª∫Á´ãËøûÊé•ËØ∑Ê±ÇÊó∂, ‰ºöÂú®TCPÈ¶ñÈÉ®‰∏≠ÂÜôÂÖ•MSSÈÄâÈ°π, ÂëäËØâÂØπÊñπËá™Â∑±ÁöÑÊé•Âè£ËÉΩÂ§üÈÄÇÂ∫îÁöÑMSSÁöÑÂ§ßÂ∞è„ÄÇ‰πãÂêé, Âú®Ê≠§‰πãÈó¥ÈÄâÊã©‰∏Ä‰∏™ÊúÄÂ∞èÁöÑMSSÁöÑÂÄº„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1ficck17ilzj30p40pmgq5.jpg" alt=""></p>
<p>#####Á™óÂè£ÊéßÂà∂<br>TCP‰ª•1‰∏™ÊÆµ‰∏∫Âçï‰Ωç, ÊØèÂèë‰∏Ä‰∏™ÊÆµËøõË°å‰∏ÄÊ¨°Á°ÆËÆ§Â∫îÁ≠îÁöÑÂ§ÑÁêÜ, ËøôÁßç‰º†ËæìÊñπÂºèÊúâ‰∏Ä‰∏™Áº∫ÁÇπ, ÂåÖÁöÑÂæÄËøîÊó∂Èó¥Ë∂äÈïøÈÄö‰ø°ÊÄßËÉΩË∂ä‰Ωé„ÄÇ<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1ficcpl3nlgj30j40iitar.jpg" alt=""></p>
<p>‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò TCPÂºïÂÖ•‰∫ÜÁ™óÂè£ÁöÑÊ¶ÇÂøµ, ‰ΩøÂú®ÂæÄËøîÊó∂Èó¥ËæÉÈïøÁöÑÊÉÖÂÜµ‰∏ã, ‰πüËÉΩÊéßÂà∂ÁΩëÁªúÊÄßËÉΩÁöÑ‰∏ãÈôç„ÄÇÁ°ÆËÆ§Â∫îÁ≠î‰∏çÂÜçÊòØ‰ª•ÊØè‰∏™ÂàÜÊÆµ, ËÄåÊòØ‰ª•Êõ¥Â§ßÁöÑÂçï‰ΩçËøõË°åÁ°ÆËÆ§, ËΩ¨ÂèëÊó∂Èó¥Â∞Ü‰ºöË¢´Â§ßÂπÖÂ∫¶ÁöÑÁº©Áü≠„ÄÇ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1ficcsbstu2j30hw0fwjud.jpg" alt=""><br>Á™óÂè£Â§ßÂ∞è:ÊåáÊó†ÈúÄÁ≠âÂæÖÁ°ÆËÆ§Â∫îÁ≠îËÄåÂèØ‰ª•ÁªßÁª≠ÂèëÈÄÅÊï∞ÊçÆÊÆµÁöÑÊúÄÂ§ßÂÄº„ÄÇËøô‰∏™Êú∫Âà∂ÁöÑÂÆûÁé∞‰ΩøÁî®‰∫ÜÂ§ßÈáèÁöÑÁºìÂÜ≤Âå∫„ÄÇ</p>
<p>ÂèëÈÄÅÁ´Ø‰∏ªÊú∫Âú®Á≠âÂà∞Á°ÆËÆ§Â∫îÁ≠îËøîÂõû‰πãÂâç, ÂøÖÈ°ªÂú®ÁºìÂÜ≤Âå∫‰∏≠‰øùÁïôËøôÈÉ®ÂàÜÊï∞ÊçÆ„ÄÇÂΩìÊï∞ÊçÆÂèëÂá∫ÂêéËã•Â¶ÇÊúüÊî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÂ∞±ÂèØ‰ª•‰∏çÁî®ÂÜçËøõË°åÈáçÂèë, Ê≠§Êó∂Êï∞ÊçÆÂ∞±ÂèØ‰ª•‰ªéÁºìÂ≠òÂå∫Ê∏ÖÈô§„ÄÇÊî∂Âà∞Á°ÆËÆ§Â∫îÁ≠îÁöÑÊÉÖÂÜµ‰∏ã, Â∞ÜÁ™óÂè£ÊªëÂä®Âà∞Á°ÆËÆ§Â∫îÁ≠î‰∏≠ÁöÑÂ∫èÂàóÂè∑ÁöÑ‰ΩçÁΩÆ„ÄÇËøôÊ†∑ÂèØ‰ª•È°∫Â∫èÂú∞Â∞ÜÂ§ö‰∏™ÊÆµÂêåÊó∂ÂèëÈÄÅÊèêÈ´òÈÄö‰ø°ÊÄßËÉΩ„ÄÇËøôÁßçÊú∫Âà∂‰πüË¢´Áß∞‰∏∫ÊªëÂä®Á™óÂè£ÊéßÂà∂„ÄÇ<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1ficcy2nup5j30pu0jq43p.jpg" alt=""></p>
<h5 id="Á™óÂè£ÊéßÂà∂‰∏éÈáçÂèë"><a href="#Á™óÂè£ÊéßÂà∂‰∏éÈáçÂèë" class="headerlink" title="Á™óÂè£ÊéßÂà∂‰∏éÈáçÂèë"></a>Á™óÂè£ÊéßÂà∂‰∏éÈáçÂèë</h5><p>Âú®‰ΩøÁî®Á™óÂè£ÊéßÂà∂‰∏≠, Â§ÑÁêÜÊÆµ‰∏¢Â§±ÁöÑÊÉÖÂÜµ„ÄÇ</p>
<ul>
<li><p>Á°ÆËÆ§Â∫îÁ≠îÊú™ËÉΩËøîÂõûÁöÑÊÉÖÂÜµ<br>Âú®ËøôÁßçÊÉÖÂÜµ‰∏ã, Êï∞ÊçÆÂ∑≤ÁªèÂà∞ËææÂØπÁ´Ø, ÊòØ‰∏çÈúÄË¶ÅËøõË°åÈáçÂèëÁöÑ„ÄÇ<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1ficdgl41sej30py0i6adg.jpg" alt=""></p>
</li>
<li><p>Êüê‰∏™ÊÆµ‰∏¢Â§±ÁöÑÊÉÖÂÜµ<br>Êé•Êî∂‰∏ªÊú∫Â¶ÇÊûúÊî∂Âà∞‰∏Ä‰∏™Êú¨Â∫îËØ•Êé•Êî∂ÁöÑÂ∫èÂè∑‰ª•Â§ñÁöÑÊï∞ÊçÆÊó∂, ‰ºöÈíàÂØπÂΩìÂâç‰∏∫Ê≠¢Êî∂Âà∞Êï∞ÊçÆËøîÂõûÁ°ÆËÆ§Â∫îÁ≠î„ÄÇÂèëÈÄÅÁ´Ø‰∏ªÊú∫Â¶ÇÊûúËøûÁª≠3Ê¨°Êî∂Âà∞Âêå‰∏Ä‰∏™Á°ÆËÆ§Â∫îÁ≠î, Â∞±‰ºöÂ∞ÜÂÖ∂ÊâÄÂØπÂ∫îÁöÑÊï∞ÊçÆËøõË°åÈáçÂèë„ÄÇËøôÁßçÊú∫Âà∂ÊØî‰πãÂâçÊèêÂà∞ÁöÑË∂ÖÊó∂ÁÆ°ÁêÜÊõ¥Âä†È´òÊïà, ‰πüÁß∞‰ΩúÈ´òÈÄüÈáçÂèëÊéßÂà∂„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficdkffgukj30r60lc0xq.jpg" alt=""></p>
</li>
</ul>
<h5 id="ÊµÅÊéßÂà∂"><a href="#ÊµÅÊéßÂà∂" class="headerlink" title="ÊµÅÊéßÂà∂"></a>ÊµÅÊéßÂà∂</h5><p>ÊµÅÊéßÂà∂:ËÆ©ÂèëÈÄÅÁ´ØÊ†πÊçÆÊé•Êî∂Á´ØÁöÑÂÆûÈôÖÊé•Êî∂ËÉΩÂäõÊéßÂà∂ÂèëÈÄÅÁöÑÊï∞ÊçÆÈáè„ÄÇÊé•Êî∂Á´Ø‰∏ªÊú∫ÂêëÂèëÈÄÅÁ´Ø‰∏ªÊú∫ÈÄöÁü•Ëá™Â∑±ÂèØ‰ª•Êé•Êî∂Êï∞ÊçÆÁöÑÂ§ßÂ∞è, ‰∫éÊòØÂèëÈÄÅÁ´Ø‰ºöÂèëÈÄÅ‰∏çË∂ÖËøáËøô‰∏™ÈôêÂ∫¶ÁöÑÊï∞ÊçÆ„ÄÇËØ•Â§ßÂ∞èÈôêÂ∫¶Â∞±Ë¢´Áß∞‰ΩúÁ™óÂè£ÁöÑÂ§ßÂ∞è „ÄÇ<br>Êé•Êî∂‰∏ªÊú∫Â∞ÜËá™Â∑±ÂèØ‰ª•Êé•Êî∂ÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞èÊîæÂÖ•Ëøô‰∏™Â≠óÊÆµ‰∏≠ÈÄöÁü•ÁªôÂèëÈÄÅÁ´Ø„ÄÇËøô‰∏™Â≠óÊÆµÁöÑÂÄºË∂äÂ§ß, ËØ¥ÊòéÁΩëÁªúÁöÑÂêûÂêêÈáèË∂äÈ´ò„ÄÇÊé•Êî∂Á´ØÁöÑÁºìÂÜ≤Âå∫‰∏ÄÊó¶Èù¢‰∏¥Êï∞ÊçÆÊ∫¢Âá∫Êó∂, Á™óÂè£Â§ßÂ∞èÁöÑÂÄº‰πü‰ºöÈöè‰πãË¢´ËÆæÁΩÆ‰∏∫‰∏Ä‰∏™Êõ¥Â∞èÁöÑÂÄºÈÄöÁü•ÁªôÂèëÈÄÅÁ´Ø, ‰ªéËÄåÊéßÂà∂Êï∞ÊçÆÂèëÈÄÅÈáè„ÄÇÁÆÄËÄåË®Ä‰πã, ÂèëÈÄÅÁ´Ø‰∏ªÊú∫‰ºöÊ†πÊçÆÊé•Êî∂Á´Ø‰∏ªÊú∫ÁöÑÊèêÁ§∫, ÂØπÂèëÈÄÅÁöÑÊï∞ÊçÆÈáèËøõË°åÊéßÂà∂„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficebte4egj30py0mwq77.jpg" alt=""></p>
<blockquote>
<p>Á™óÂè£Êé¢ÊµãÁöÑÊï∞ÊçÆÊÆµ, Ê¨°Êï∞ÊçÆÊÆµ‰ªÖÂåÖÂê´‰∏Ä‰∏™Â≠óËäÇ‰ª•Ëé∑ÂèñÊúÄÊñ∞ÁöÑÁ™óÂè£Â§ßÂ∞è‰ø°ÊÅØ„ÄÇ</p>
</blockquote>
<h5 id="Êã•Â°ûÊéßÂà∂"><a href="#Êã•Â°ûÊéßÂà∂" class="headerlink" title="Êã•Â°ûÊéßÂà∂"></a>Êã•Â°ûÊéßÂà∂</h5><p>Âú®ÁΩëÁªúÂá∫Áé∞Êã•Â†µÊó∂, Â¶ÇÊûúÁ™ÅÁÑ∂ÂèëÈÄÅ‰∏Ä‰∏™ËæÉÂ§ßÈáèÁöÑÊï∞ÊçÆ, ÊûÅÊúâÂèØËÉΩ‰ºöÂØºËá¥Êï¥‰∏™ÁΩëÁªúÁöÑÁò´Áó™„ÄÇTCP‰∏∫‰∫ÜÈò≤Ê≠¢ËØ•ÈóÆÈ¢òÂæóÂá∫Áé∞, Âú®ÈÄö‰ø°‰∏ÄÂºÄÂßãÂ∞±‰ºöÈÄöËøá‰∏Ä‰∏™Âè´ÂÅöÊÖ¢ÂêØÂä®ÁöÑÁÆóÊ≥ïÂæóÂá∫ÁöÑÊï∞ÂÄº, ÂØπÂèëÈÄÅÊï∞ÊçÆÈáèËøõË°åÊéßÂà∂„ÄÇ<br><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficeg631tlj30o60oeq74.jpg" alt=""></p>
<p>È¶ñÂÖà‰∏∫‰∫ÜÂú®ÂèëÈÄÅÁ´ØË∞ÉËäÇÊâÄË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÁöÑÈáè, ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âè´ÂÅö‚ÄùÊã•Â°ûÁöÑÁ™óÂè£‚Äù, Âú®ÊÖ¢ÂêØÂä®ÁöÑÊó∂ÂÄô, Â∞ÜËøô‰∏™Êã•Â°ûÁ™óÂè£ÁöÑÂ§ßÂ∞èËÆæÁΩÆ‰∏∫1‰∏™Êï∞ÊçÆÊÆµ(1MSS)ÂèëÈÄÅÊï∞ÊçÆ, ‰πãÂêéÊØèÊî∂Âà∞‰∏ÄÊ¨°ACK,Â∞±Â∞ÜÊã•Â°ûÁ™óÂè£ÁöÑÂÄº+1, Âú®ÂèëÈÄÅÊï∞ÊçÆÂåÖÊó∂, Â∞ÜÊã•Â°ûÁ™óÂè£ÁöÑÂ§ßÂ∞è‰∏éÊé•Êî∂Á´Ø‰∏ªÊú∫ÁöÑÁ™óÂè£Â§ßÂ∞èÂÅöÊØîËæÉ, ÊåâÁÖß‰∏§ËÄÖ‰∏≠ËæÉÂ∞èÁöÑÂÄº, ÂèëÈÄÅÊØîËøô‰∏™ÂÄºËøòË¶ÅÂ∞èÁöÑÊï∞ÊçÆÈáè„ÄÇ<br>ÈöèÁùÄÂåÖÁöÑÊØèÊ¨°ÂæÄËøî, Êã•Â°ûÁ™óÂè£‰ºö‰ª•1„ÄÅ2„ÄÅ4Á≠âÊåáÊï∞ÂáΩÊï∞ÁöÑÂ¢ûÈïø, Êã•Â†µÁä∂ÂÜµÊøÄÂ¢ûÁîöËá≥ÂØºËá¥ÁΩëÁªúÊã•Â°ûÁöÑÂèëÁîü„ÄÇ‰∏∫‰∫ÜÈò≤Ê≠¢Ëøô‰∫õ, ÂºïÂÖ•‰∫ÜÊÖ¢ÂêØÂä®ÈòÄÂÄºÁöÑÊ¶ÇÂøµ„ÄÇÂè™Ë¶ÅÊã•Â°ûÁ™óÂè£ÁöÑÂÄºË∂ÖËøáËøô‰∏™ÈòÄÂÄº, ‰ºöÊåâÁÖßÊüêÁßçËßÑÂàôÊéßÂà∂Êã•Â°ûÁ™óÂè£ÁöÑÊï∞Èáè„ÄÇ</p>
<h4 id="ÊÄùËÄÉ"><a href="#ÊÄùËÄÉ" class="headerlink" title="ÊÄùËÄÉ"></a>ÊÄùËÄÉ</h4><h5 id="‰∏âÊ¨°Êè°Êâã"><a href="#‰∏âÊ¨°Êè°Êâã" class="headerlink" title="‰∏âÊ¨°Êè°Êâã"></a>‰∏âÊ¨°Êè°Êâã</h5><p>‰∫åÊ¨°Êè°Êâã:Âú®ÁΩëÁªúËØ∑Ê±Ç‰∏≠, ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™SYNÂåÖ,ËØ∑Ê±ÇÂª∫Á´ãËøûÊé•„ÄÇÁî±‰∫éÂª∂Ëøü, ÊúçÂä°Á´ØÊ≤°ÊúâÂèäÊó∂Êî∂Âà∞ÂåÖ; ‰∫éÊòØÂÆ¢Êà∑Á´ØÈáçÊñ∞ÂèëÈÄÅ‰∏Ä‰∏™SYNÂåÖ„ÄÇÂÅáËÆæÊúçÂä°Á´ØÊé•Êî∂‰∫ÜÁ¨¨‰∫å‰∏™SYNÂåÖ, Âª∫Á´ã‰∫ÜÈÄö‰ø°, ‰∏ÄÊÆµÊó∂Èó¥ÂêéÈÄö‰ø°ÁªìÊùü, ËøûÊé•Ë¢´ÂÖ≥Èó≠„ÄÇËøôÊó∂ÂÄôÊúÄÂàùË¢´ÂèëÈÄÅÁöÑSYNÂåÖÂàöË¢´ÊúçÂä°Á´ØÊé•Êî∂, ÊúçÂä°Á´ØÂèëÂõûACKÂêé,Â∞±‰ºöÂª∫Á´ãËøûÊé•, Áî±‰∫éÊòØÂâç‰∏ÄÊ¨°ÁöÑËøûÊé•ËØ∑Ê±Ç, Âπ∂Ê≤°ÊúâË¢´‰ΩøÁî®, ËøôÊ†∑Â∞±ÂØºËá¥ÊúçÂä°Á´ØÂª∫Á´ã‰∫Ü‰∏Ä‰∏™Á©∫ÁöÑËøûÊé•„ÄÇ<br>‰∏âÊ¨°Êè°Êâã: ÊúçÂä°Á´ØÂèëÂõûACKÂêé, ÂÆ¢Êà∑Á´Ø‰ºö‰∏¢ÂºÉËøô‰∏™Êï∞ÊçÆÂåÖ, ‰∏ç‰ºöÂíåÊúçÂä°Á´ØËøõË°åÁ¨¨‰∏âÊ¨°ÁöÑÊè°Êâã, Âõ†Ê≠§ÂèØ‰ª•ÈÅøÂÖçÊúçÂä°Á´ØÁ©∫ÁöÑËøûÊé•„ÄÇ</p>
<h5 id="Âª∫Á´ãACKÁ°ÆËÆ§ÂåÖ‰∏¢Â§±"><a href="#Âª∫Á´ãACKÁ°ÆËÆ§ÂåÖ‰∏¢Â§±" class="headerlink" title="Âª∫Á´ãACKÁ°ÆËÆ§ÂåÖ‰∏¢Â§±"></a>Âª∫Á´ãACKÁ°ÆËÆ§ÂåÖ‰∏¢Â§±</h5><p>TCPÂçèËÆÆÂ§ÑÁêÜ‰∏¢ÂåÖÁöÑ‰∏ÄËà¨ÊñπÊ≥ïÔºåÊúçÂä°Á´Ø‰ºöÈáçÊñ∞ÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÊï∞ÊçÆÂåÖÔºåÁõ¥Ëá≥Êî∂Âà∞ ACK Á°ÆËÆ§‰∏∫Ê≠¢„ÄÇÂÆûÈôÖ‰∏äËøôÁßçÂÅöÊ≥ïÊúâÂèØËÉΩÈÅ≠Âà∞SYNÊ≥õÊ¥™ÊîªÂáª„ÄÇÊâÄË∞ìÁöÑÊ≥õÊ¥™ÊîªÂáªÔºåÊòØÊåáÂèëÈÄÅÊñπ‰º™ÈÄ†Â§ö‰∏™ IP Âú∞ÂùÄÔºåÊ®°Êãü‰∏âÊ¨°Êè°ÊâãÁöÑËøáÁ®ã„ÄÇÂΩìÊúçÂä°Âô®ËøîÂõû ACK ÂêéÔºåÊîªÂáªÊñπÊïÖÊÑè‰∏çÁ°ÆËÆ§Ôºå‰ªéËÄå‰ΩøÂæóÊúçÂä°Âô®‰∏çÊñ≠ÈáçÂèë ACK„ÄÇÁî±‰∫éÊúçÂä°Âô®ÈïøÊó∂Èó¥Â§Ñ‰∫éÂçäËøûÊé•Áä∂ÊÄÅÔºåÊúÄÂêéÊ∂àËÄóËøáÂ§öÁöÑ CPU ÂíåÂÜÖÂ≠òËµÑÊ∫êÂØºËá¥Ê≠ªÊú∫„ÄÇ<br>Ê≠£Á°ÆÂÅöÊ≥ï:ÊúçÂä°Á´ØÂèëÈÄÅRSTÊä•Êñá, ËøõÂÖ•ÂÖ≥Èó≠Áä∂ÊÄÅ, Ëøô‰∏™RSTÊï∞ÊçÆÂåÖÁöÑTCPÈ¶ñÈÉ®‰∏≠, ÊéßÂà∂‰Ωç‰∏≠ÁöÑRST‰ΩçË¢´ËÆæÁΩÆ‰∏∫1, Ë°®Á§∫ËøûÊé•‰ø°ÊÅØÂÖ®ÈÉ®Ë¢´ÂàùÂßãÂåñ, ÂéüÊúâÁöÑTCPÈÄö‰ø°‰∏çËÉΩÁªßÁª≠; ÂÆ¢Êà∑Á´ØÂ¶ÇÊûúËøòÊÉ≥ÈáçÊñ∞Âª∫Á´ãTCPËøûÊé•, Â∞±ÂøÖÈ°ªÈáçÊñ∞ÂºÄÂßãÁ¨¨‰∏ÄÊ¨°Êè°Êâã„ÄÇ</p>
<h5 id="ÂÖ≥Èó≠ËøûÊé•ÁöÑÊúÄÂêé‰∏Ä‰∏™ACK‰∏¢Â§±"><a href="#ÂÖ≥Èó≠ËøûÊé•ÁöÑÊúÄÂêé‰∏Ä‰∏™ACK‰∏¢Â§±" class="headerlink" title="ÂÖ≥Èó≠ËøûÊé•ÁöÑÊúÄÂêé‰∏Ä‰∏™ACK‰∏¢Â§±"></a>ÂÖ≥Èó≠ËøûÊé•ÁöÑÊúÄÂêé‰∏Ä‰∏™ACK‰∏¢Â§±</h5><p>ÂÆûÈôÖ‰∏äÔºåÂú®Á¨¨‰∏âÊ≠•‰∏≠ÔºåÂÆ¢Êà∑Á´ØÊî∂Âà∞ FIN ÂåÖÊó∂ÔºåÂÆÉ‰ºöËÆæÁΩÆ‰∏Ä‰∏™ËÆ°Êó∂Âô®ÔºåÁ≠âÂæÖÁõ∏ÂΩìÈïøÁöÑ‰∏ÄÊÆµÊó∂Èó¥„ÄÇÂ¶ÇÊûúÂÆ¢Êà∑Á´ØËøîÂõûÁöÑ ACK ‰∏¢Â§±ÔºåÈÇ£‰πàÊúçÂä°Á´ØËøò‰ºöÈáçÂèë FIN Âπ∂ÈáçÁΩÆËÆ°Êó∂Âô®„ÄÇÂÅáËÆæÂú®ËÆ°Êó∂Âô®Â§±ÊïàÂâçÊúçÂä°Âô®ÈáçÂèëÁöÑ FIN ÂåÖÊ≤°ÊúâÂà∞ËææÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂ∞±‰ºöËøõÂÖ• CLOSE Áä∂ÊÄÅÔºå‰ªéËÄåÂØºËá¥ÊúçÂä°Á´ØÊ∞∏ËøúÊó†Ê≥ïÊî∂Âà∞ ACK Á°ÆËÆ§Ôºå‰πüÂ∞±Êó†Ê≥ïÂÖ≥Èó≠ËøûÊé•„ÄÇ</p>
<blockquote>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ficgjn9z94j30s40mu76w.jpg" alt=""></p>
</blockquote>
<h5 id="TCP‰∏éUDPÁöÑÂå∫Âà´"><a href="#TCP‰∏éUDPÁöÑÂå∫Âà´" class="headerlink" title="TCP‰∏éUDPÁöÑÂå∫Âà´"></a>TCP‰∏éUDPÁöÑÂå∫Âà´</h5><p>TCPÊòØÈù¢ÂêëËøûÊé•ÁöÑ„ÄÅÂèØÈù†ÁöÑÊµÅÂçèËÆÆ, Âú®‰ΩøÁî®TCPÂçèËÆÆ‰º†ËæìÊï∞ÊçÆ‰πãÂâçÈúÄË¶ÅÁ°ÆËÆ§ÂèëÈÄÅÊñπÂíåÊé•Êî∂ÊñπÁöÑËøûÊé•ÊòØÂª∫Á´ãÁöÑ, Âª∫Á´ãËøûÊé•ÈúÄË¶Å‰∏âÊ¨°Êè°Êâã, ÂÖ≥Èó≠ËøûÊé•ÈúÄË¶ÅÂõõÊ¨°Êå•Êâã„ÄÇÊµÅÂ∞±ÊòØÊåá‰∏çÈó¥Êñ≠ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇTCP‰∏∫Êèê‰æõÂèØÈù†ÊÄß‰º†Ëæì, ÂÆûË°å‚ÄùÈ°∫Â∫èÊéßÂà∂‚ÄùÊàñ‚ÄùÈáçÂèëÊéßÂà∂‚ÄùÊú∫Âà∂;ËøòÂÖ∑Â§á‚ÄùÊµÅÈáèÊéßÂà∂‚Äù, ‚ÄúÊã•Â°ûÊéßÂà∂‚Äù, ÊèêÈ´òÁΩëÁªúÂà©Áî®ÁéáÁ≠â‰ºóÂ§öÂäüËÉΩ„ÄÇ</p>
<p>UDPÊòØ‰∏çÂÖ∑ÊúâÂèØÈù†ÊÄßÁöÑÊï∞ÊçÆÊä•ÂçèËÆÆ„ÄÇUDPÂèØ‰ª•Á°Æ‰øùÂèëÈÄÅÊ∂àÊÅØÁöÑÂ§ßÂ∞è, ‰∏çËÉΩ‰øùËØÅÊ∂àÊÅØÁöÑÊòØÂê¶‰ºöÂà∞ËææÁõÆÊ†á‰∏ªÊú∫„ÄÇÂõ†Ê≠§, ÈúÄË¶ÅÂú®Â∫îÁî®Ëá™Ë°åÊéßÂà∂ÈáçÂèëÁ≠âÊú∫Âà∂„ÄÇ</p>
<p>TCPÁî®‰∫éÂú®‰º†ËæìÂ±ÇÊúâÈúÄË¶ÅÂÆûÁé∞ÂèØÈù†‰º†ËæìÁöÑÊÉÖÂÜµ„ÄÇÁî±‰∫éÂÆÉÊòØÈù¢ÂêëÊúâËøûÊé•Âπ∂‰∏îÂÖ∑Â§áÈ°∫Â∫èÊéßÂà∂„ÄÅÈáçÂèëÊéßÂà∂Á≠âÊú∫Âà∂ÁöÑ, ÊâÄ‰ª•ÂÆÉÂèØ‰ª•‰∏∫Â∫îÁî®Êèê‰æõÂèØÈù†ÁöÑ‰º†Ëæì, Áî±Ê≠§ÂÜ≥ÂÆö‰∫ÜTCPÈúÄË¶ÅÂà∂ÂÆöÂæàÂ§öÂ§çÊùÇÁöÑËßÑËåÉ, ÊâÄ‰ª•‰º†ËæìÊïàÁéá‰∏çÂ¶ÇUDPÂçèËÆÆ, ‰∏çÈÄÇÂêàÂÆûÊó∂ÁöÑÈü≥ËßÜÈ¢ë‰º†Ëæì„ÄÇÂú®Âè¶‰∏ÄÊñπÈù¢, UDP‰∏ªË¶ÅÁî®‰∫éÈÇ£‰∫õÂØπÈ´òÈÄü‰º†ËæìÂíåÂÆûÊó∂ÊÄßÊúâËæÉÈ´òË¶ÅÊ±ÇÁöÑÈÄö‰ø°ÊàñÂπøÊí≠ÈÄö‰ø°„ÄÇ</p>
<p>ÂèÇËÄÉ:</p>
<ul>
<li><a href="http://www.jianshu.com/nb/3276500" target="_blank" rel="external">http://www.jianshu.com/nb/3276500</a></li>
<li><a href="">ÂõæËß£TCP/IP</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÁΩëÁªú/">ÁΩëÁªú</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">weiter &raquo;</a>
  </nav>

</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2014 - 2017 simonÂ∞èüìöÂùä All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				UV : <span id="busuanzi_value_site_uv"></span> |  
				PV : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>


  <script src="/js/home.js"></script>










	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">ËÆæÁΩÆ</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              Ê≠£ÊñáÂ≠óÂè∑Â§ßÂ∞è
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            ÊÇ®Â∑≤Ë∞ÉÊï¥È°µÈù¢Â≠ó‰ΩìÂ§ßÂ∞è
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              Â§úÈó¥Êä§ÁúºÊ®°Âºè
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            Â§úÈó¥Ê®°ÂºèÂ∑≤ÁªèÂºÄÂêØÔºåÂÜçÊ¨°ÂçïÂáªÊåâÈíÆÂç≥ÂèØÂÖ≥Èó≠ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ÂÖ≥ ‰∫é&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            simonÂ∞èüìöÂùä
          </div>
          <div class="panel-body">
            Copyright ¬© 2017 Mr.Simon All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">√ó</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>